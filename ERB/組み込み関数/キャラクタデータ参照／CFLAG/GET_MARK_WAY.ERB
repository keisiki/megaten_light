;-------------------------------------------------
;굴복각인취득方法識別関数 @GET_MARK_WAY
;引数は0の場合、각인취득方法を記録して、TFLAG:24をそのまま返す
;引数が1~3の場合、引数のLvの굴복각인を
;쾌락でとってた場合は1、고통でとって場合は2,복종でとってた場合は3で返す
;引数1は例によって대상、생략した場合はTARGET
;-------------------------------------------------
@GET_MARK_WAY(ARG,ARG:1)
#FUNCTION
#DIM LCOUNT
ARG:1 = ARG:1 ? ARG:1 # TARGET
SIF ARG> 3 || ARG < 0
	RETURNF 0
IF ARG == 0 && TFLAG:24
	IF TFLAG:24 == 11 && GET_EVENTFLAG(1000, 1, ARG:2)
	ELSEIF TFLAG:24 == 21 && GET_EVENTFLAG(1001, 1, ARG:2)
	ELSEIF TFLAG:24 == 31 && GET_EVENTFLAG(1002, 1, ARG:2)
	ELSEIF TFLAG:24 == 12 && GET_EVENTFLAG(1003, 1, ARG:2)
	ELSEIF TFLAG:24 == 22 && GET_EVENTFLAG(1004, 1, ARG:2)
	ELSEIF TFLAG:24 == 32 && GET_EVENTFLAG(1005, 1, ARG:2)
	ELSEIF TFLAG:24 == 13 && GET_EVENTFLAG(1006, 1, ARG:2)
	ELSEIF TFLAG:24 == 23 && GET_EVENTFLAG(1007, 1, ARG:2)
	ELSEIF TFLAG:24 == 33 && GET_EVENTFLAG(1008, 1, ARG:2)
	ENDIF	
	RETURNF TFLAG:24
ELSE
	LOCAL = 0
	FOR LCOUNT,ARG*3 + 997,ARG*3 + 1000
		LOCAL += 1
		SIF GET_EVENTFLAG(LCOUNT,0,ARG:1)
			RETURNF LOCAL
	NEXT
ENDIF
RETURNF 0