;===============================
;特定の스킬を습득しているかどうか
;ARG 대상のキャラ
;ARG:1 대상の스킬
;ARG:2 位置情報を返すかどうか
;==============================
@HAVE_SKILL(ARG,ARG:1,ARG:2 = 0)
#FUNCTION
#LOCALSIZE 2
#LOCALSSIZE 1

LOCAL:1 = GETNUM(ABL , "스킬1")
IF CFLAG:ARG:ボスフラグ > 0
	IF MATCH(ABL:ARG:0, ARG:1, LOCAL:1, LOCAL:1 + 21)
		IF ARG:2 == 0
			RETURNF 1
		ELSE
			FOR LOCAL,1,21
				LOCALS = 스킬{LOCAL}
				SIF ABL:ARG:LOCALS == ARG:1
					RETURNF LOCAL
			NEXT
		ENDIF
	ENDIF
ELSEIF TALENT:ARG:이능자 || TALENT:ARG:달인 || TALENT:ARG:인수라
	IF MATCH(ABL:ARG:0, ARG:1, LOCAL:1, LOCAL:1 + FLAG:이능자스킬数+1)
		IF ARG:2 == 0
			RETURNF 1
		ELSE
			FOR LOCAL,1,FLAG:이능자스킬数+1
				LOCALS = 스킬{LOCAL}
				SIF ABL:ARG:LOCALS == ARG:1
					RETURNF LOCAL
			NEXT
		ENDIF
	ENDIF
ELSE
	IF MATCH(ABL:ARG:0, ARG:1, LOCAL:1, LOCAL:1 + FLAG:스킬数+1)
		IF ARG:2 == 0
			RETURNF 1
		ELSE
			FOR LOCAL,1,FLAG:스킬数+1
				LOCALS = 스킬{LOCAL}
				SIF ABL:ARG:LOCALS == ARG:1
					RETURNF LOCAL
			NEXT
		ENDIF
	ENDIF
ENDIF
LOCAL:1 = GETNUM(ABL , "장비스킬1")
IF MATCH(ABL:ARG:0, ARG:1, LOCAL:1, LOCAL:1 + 22)
	IF ARG:2 == 0
		RETURNF 1
	ELSE
		FOR LOCAL,1,22
			LOCALS = 장비스킬{LOCAL}
			SIF ABL:ARG:LOCALS == ARG:1
				RETURNF 10+LOCAL
		NEXT
	ENDIF
ENDIF
RETURNF 0