;=================================================
;奴隷구입・매각に関わる関数
;=================================================
;大人数対応キャラ구입処理（eratohoTLよりスクリプトを流用し改変）
;奴隷の連続구입を가능に

;>代わりに구입金額の설정＆処理が煩雑になる諸刃の검、素人にはオススメ出来ない
;>ついでに過去の세이브데이터との互換性もなくなりますし、見栄えも悪い
;>あとフラグ8000番台を使うので注意
;>(TFLAG:0～100は조교関係ない上、조교開始時に리셋されるので無問題）

;>변경点
;>TFLAG:200番台を이용してリストの前詰めを実行
;>구입したキャラが直接加入するように、구입処理のあたりを변경

;15/05/26
;リストの前詰めを廃止
;캐릭터を登場作品等で大まかにページ分け
;구입キャラは灰色化

;=================================================
;奴隷구입処理メイン関数
;=================================================
@CHARA_BUY (ARG:999 = -1)
#DIM LCOUNT
#DIM APPAGE
#DIM AGEGROUP
#DIM AGE
#DIM HEIGHT
#DIM DECIMAL
#DIM HEIGHT2
#DIM DECIMAL2
#DIM WEIGHT
#DIM DECIMALW
#DIM WEIGHT2
#DIM DECIMALW2
#DIM BUST
#DIM BUST2
#DIM WAIST
#DIM WAIST2
#DIM HIP
#DIM HIP2
#DIM MALE
#DIM SHOESIZE
#DIM DECIMALS
#DIM BMONTH
#DIM BDAY
#DIM BTYPE
#DIM HAND
#DIM PLACENUM

;TFLAG:995에는 노예 리스트의 페이지 수를 할당
TFLAG:995 = 0


$INPUT_LOOP
;캐릭터 리스트 표시
CALL CHARA_BUY_SHOW

;ページ数
ARG:999 = 10

CALL BACK(ARG:999)

PRINT  
FOR LOCAL, 0, 10
ALIGNMENT RIGHT
	PRINT [
	IF LOCAL == TFLAG:995
			SETCOLOR 0xFFFFF
	ELSE
			SETCOLOR 0xC0C0C0
	ENDIF
	PRINTFORM {LOCAL+1}
	RESETCOLOR
	PRINT ]
NEXT
ALIGNMENT LEFT

INPUT

IF RESULT >= 1 && RESULT <= 10
LCOUNT = RESULT - 1
	SIF TFLAG:995 != LCOUNT
		TFLAG:995 = LCOUNT
	GOTO INPUT_LOOP
ENDIF

IF RESULT == 901
	SIF TFLAG:995 != 0
		TFLAG:995 -= 1
	GOTO INPUT_LOOP
ELSEIF RESULT == 909
	;최대ページ数（10）と比較
	SIF TFLAG:995 < 10
		TFLAG:995 += 1
	GOTO INPUT_LOOP
ELSEIF RESULT == 999
	CALL CHARA_BUY_AFTER
	RETURN 0
ENDIF

;C = キャラナンバー
C = RESULT
;D = 선택된 캐릭터의 캐릭터 구입 フラグ
;FLAG:;8000～ = 캐릭 구입（1이상:캐릭터가격、0:미등록、-1:구입 후、-2:사망、-3:소멸）
D = RESULT + 2300

;구매액이 0=フラグ 값이 0이면 캐릭터가 존재하지 않기 때문에 재입력
SIF FLAG:D == 0
	GOTO INPUT_LOOP

;フラグ 값이 0이하면 다시 입력하도록 수정@kkbyj
	;구입 사망 소멸의 경우는 검정
	IF FLAG:D == -1
		DRAWLINE
		PRINTW 구입하였습니다
		GOTO INPUT_LOOP
	;사망 소멸의 경우는 검붉은색
	ELSEIF FLAG:D <= -2
		DRAWLINE
		PRINTW 죽인 것을 잊고 있었습니까?
		GOTO INPUT_LOOP
	ENDIF

;한번에 소유할 수 있는 노예는 최대 200명
;IF CHARANUM > 20000
;	DRAWLINE
;	PRINTW 《누군가를 매각하지 않으면 더 이상 구입할 수 없습니다》
;	GOTO INPUT_LOOP
;ELSEIF FLAG:5 >= 8 && FLAG:23 < 100 && CHARANUM > 10 + (FLAG:23 * 2)
;	DRAWLINE
;	PRINTW 《誰かを매각しないと、これ이상구입できません》
;	GOTO INPUT_LOOP
;ENDIF

;캐릭터 해설을 넣는다
TFLAG:997 = C
CALL CHARA_BUY_SHOW


CALL CHARA_MANUAL
IF TFLAG:997 == 0
	GOTO INPUT_LOOP
ELSE
	TFLAG:997 = 0
ENDIF

;フラグ値＝売値が소지金より多いなら再입력
IF MONEY:1 < FLAG:D
	DRAWLINE
	PRINTW 金額が발りません
	GOTO INPUT_LOOP
ENDIF
;上記処理を抜けてきた＝구입가능で소지金が売値이상
;소지金の변경
MONEY:1 -= FLAG:D

;구입한 캐릭터의 구입 フラグ를 세운다
FLAG:D = -1
IF C == 5702
	이벤트フラグ:95:1 = 1
ELSEIF C == 5716
	이벤트フラグ:95:2 = 1
ENDIF
CALL ADD_NEW_COMPANION,C,0,0
	LOCAL = RESULT:1

;이하 해설에 프로필 적기-------------------------------------------------------------


CSTR:LOCAL:32 = 
CSTR:LOCAL:33 = 


;나이

APPAGE = CSVBASE(C, 97, 0)
AGEGROUP = CSVBASE(C, 98, 0)
AGE = CSVBASE(C, 96, 0)

CSTR:LOCAL:32 += "연령："
;겉보기 연령이 존재한다면 외모 나이로 표시
IF AGEGROUP > 0
	IF APPAGE == 0
		CSTR:LOCAL:32 += "불명"
	ELSE
		IF APPAGE == 17
			CSTR:LOCAL:32 += "17"
		ELSEIF APPAGE == 20
			CSTR:LOCAL:32 += "20"
		ENDIF
		IF AGEGROUP == 1
			CSTR:LOCAL:32 += "대"
		ELSEIF AGEGROUP == 2
			CSTR:LOCAL:32 += "대 전반"
		ELSEIF AGEGROUP == 3
			CSTR:LOCAL:32 += "대 중반"
		ELSEIF AGEGROUP == 4
			CSTR:LOCAL:32 += "대 후반"
		ELSEIF AGEGROUP == 5
			CSTR:LOCAL:32 += "세 전후"
		ENDIF
	ENDIF
ELSE
	;ピエールの場合
	IF C == 6257
		CSTR:LOCAL:32 += "열다섯"
	;安部菜々の場合
	ELSEIF C == 5963
			CSTR:LOCAL:32 += "영원의"
			CSTR:LOCAL:32 += "17세"
	ELSEIF AGE == 999
		CSTR:LOCAL:32 += "불명"
	ELSE
		IF AGE == 9
			CSTR:LOCAL:32 += "9"
		ELSEIF AGE == 10	
			CSTR:LOCAL:32 += "10"
		ELSEIF AGE == 11	
			CSTR:LOCAL:32 += "11"
		ELSEIF AGE == 12	
			CSTR:LOCAL:32 += "12"
		ELSEIF AGE == 13	
			CSTR:LOCAL:32 += "13"
		ELSEIF AGE == 14	
			CSTR:LOCAL:32 += "14"
		ELSEIF AGE == 15	
			CSTR:LOCAL:32 += "15"
		ELSEIF AGE == 16	
			CSTR:LOCAL:32 += "16"
		ELSEIF AGE == 17	
			CSTR:LOCAL:32 += "17"
		ELSEIF AGE == 18	
			CSTR:LOCAL:32 += "18"
		ELSEIF AGE == 19	
			CSTR:LOCAL:32 += "19"
		ELSEIF AGE == 20	
			CSTR:LOCAL:32 += "20"
		ELSEIF AGE == 21	
			CSTR:LOCAL:32 += "21"
		ELSEIF AGE == 22	
			CSTR:LOCAL:32 += "22"
		ELSEIF AGE == 23	
			CSTR:LOCAL:32 += "23"
		ELSEIF AGE == 24	
			CSTR:LOCAL:32 += "24"
		ELSEIF AGE == 25	
			CSTR:LOCAL:32 += "25"
		ELSEIF AGE == 26	
			CSTR:LOCAL:32 += "26"
		ELSEIF AGE == 27	
			CSTR:LOCAL:32 += "27"
		ELSEIF AGE == 28	
			CSTR:LOCAL:32 += "28"
		ELSEIF AGE == 29	
			CSTR:LOCAL:32 += "29"
		ELSEIF AGE == 30	
			CSTR:LOCAL:32 += "30"
		ELSEIF AGE == 31	
			CSTR:LOCAL:32 += "31"
		ENDIF
			CSTR:LOCAL:32 += "세"
	ENDIF
ENDIF
;/
CSTR:LOCAL:32 += " / "
;신장

HEIGHT = CSVBASE(C, 24, 0)
DECIMAL = CSVBASE(C, 81, 0)
HEIGHT2 = CSVBASE(C, 82, 0)
DECIMAL2 = CSVBASE(C, 83, 0)

CSTR:LOCAL:32 += "신장："
IF HEIGHT == 0
	CSTR:LOCAL:32 += "불명"
ELSE
	IF HEIGHT == 125
		CSTR:LOCAL:32 += "125"
	ELSEIF HEIGHT == 126	
		CSTR:LOCAL:32 += "126"
	ELSEIF HEIGHT == 127	
		CSTR:LOCAL:32 += "127"
	ELSEIF HEIGHT == 128	
		CSTR:LOCAL:32 += "128"
	ELSEIF HEIGHT == 129	
		CSTR:LOCAL:32 += "129"
	ELSEIF HEIGHT == 130	
		CSTR:LOCAL:32 += "130"
	ELSEIF HEIGHT == 131	
		CSTR:LOCAL:32 += "131"
	ELSEIF HEIGHT == 132	
		CSTR:LOCAL:32 += "132"
	ELSEIF HEIGHT == 133	
		CSTR:LOCAL:32 += "133"
	ELSEIF HEIGHT == 134	
		CSTR:LOCAL:32 += "134"
	ELSEIF HEIGHT == 135	
		CSTR:LOCAL:32 += "135"
	ELSEIF HEIGHT == 136	
		CSTR:LOCAL:32 += "136"
	ELSEIF HEIGHT == 137	
		CSTR:LOCAL:32 += "137"
	ELSEIF HEIGHT == 138	
		CSTR:LOCAL:32 += "138"
	ELSEIF HEIGHT == 139	
		CSTR:LOCAL:32 += "139"
	ELSEIF HEIGHT == 140	
		CSTR:LOCAL:32 += "140"
	ELSEIF HEIGHT == 141	
		CSTR:LOCAL:32 += "141"
	ELSEIF HEIGHT == 142	
		CSTR:LOCAL:32 += "142"
	ELSEIF HEIGHT == 143	
		CSTR:LOCAL:32 += "143"
	ELSEIF HEIGHT == 144	
		CSTR:LOCAL:32 += "144"
	ELSEIF HEIGHT == 145	
		CSTR:LOCAL:32 += "145"
	ELSEIF HEIGHT == 146	
		CSTR:LOCAL:32 += "146"
	ELSEIF HEIGHT == 147	
		CSTR:LOCAL:32 += "147"
	ELSEIF HEIGHT == 148	
		CSTR:LOCAL:32 += "148"
	ELSEIF HEIGHT == 149	
		CSTR:LOCAL:32 += "149"
	ELSEIF HEIGHT == 150	
		CSTR:LOCAL:32 += "150"
	ELSEIF HEIGHT == 151	
		CSTR:LOCAL:32 += "151"
	ELSEIF HEIGHT == 152	
		CSTR:LOCAL:32 += "152"
	ELSEIF HEIGHT == 153	
		CSTR:LOCAL:32 += "153"
	ELSEIF HEIGHT == 154	
		CSTR:LOCAL:32 += "154"
	ELSEIF HEIGHT == 155	
		CSTR:LOCAL:32 += "155"
	ELSEIF HEIGHT == 156	
		CSTR:LOCAL:32 += "156"
	ELSEIF HEIGHT == 157	
		CSTR:LOCAL:32 += "157"
	ELSEIF HEIGHT == 158	
		CSTR:LOCAL:32 += "158"
	ELSEIF HEIGHT == 159	
		CSTR:LOCAL:32 += "159"
	ELSEIF HEIGHT == 160	
		CSTR:LOCAL:32 += "160"
	ELSEIF HEIGHT == 161	
		CSTR:LOCAL:32 += "161"
	ELSEIF HEIGHT == 162	
		CSTR:LOCAL:32 += "162"
	ELSEIF HEIGHT == 163	
		CSTR:LOCAL:32 += "163"
	ELSEIF HEIGHT == 164	
		CSTR:LOCAL:32 += "164"
	ELSEIF HEIGHT == 165	
		CSTR:LOCAL:32 += "165"
	ELSEIF HEIGHT == 166	
		CSTR:LOCAL:32 += "166"
	ELSEIF HEIGHT == 167	
		CSTR:LOCAL:32 += "167"
	ELSEIF HEIGHT == 168	
		CSTR:LOCAL:32 += "168"
	ELSEIF HEIGHT == 169	
		CSTR:LOCAL:32 += "169"
	ELSEIF HEIGHT == 170	
		CSTR:LOCAL:32 += "170"
	ELSEIF HEIGHT == 171	
		CSTR:LOCAL:32 += "171"
	ELSEIF HEIGHT == 172	
		CSTR:LOCAL:32 += "172"
	ELSEIF HEIGHT == 173	
		CSTR:LOCAL:32 += "173"
	ELSEIF HEIGHT == 174	
		CSTR:LOCAL:32 += "174"
	ELSEIF HEIGHT == 175	
		CSTR:LOCAL:32 += "175"
	ELSEIF HEIGHT == 176	
		CSTR:LOCAL:32 += "176"
	ELSEIF HEIGHT == 177	
		CSTR:LOCAL:32 += "177"
	ELSEIF HEIGHT == 178	
		CSTR:LOCAL:32 += "178"
	ELSEIF HEIGHT == 179	
		CSTR:LOCAL:32 += "179"
	ELSEIF HEIGHT == 180	
		CSTR:LOCAL:32 += "180"
	ELSEIF HEIGHT == 181	
		CSTR:LOCAL:32 += "181"
	ELSEIF HEIGHT == 182	
		CSTR:LOCAL:32 += "182"
	ELSEIF HEIGHT == 183	
		CSTR:LOCAL:32 += "183"
	ELSEIF HEIGHT == 184	
		CSTR:LOCAL:32 += "184"
	ELSEIF HEIGHT == 185	
		CSTR:LOCAL:32 += "185"
	ELSEIF HEIGHT == 186	
		CSTR:LOCAL:32 += "186"
	ELSEIF HEIGHT == 187	
		CSTR:LOCAL:32 += "187"
	ELSEIF HEIGHT == 188	
		CSTR:LOCAL:32 += "188"
	ELSEIF HEIGHT == 189	
		CSTR:LOCAL:32 += "189"
	ELSEIF HEIGHT == 190	
		CSTR:LOCAL:32 += "190"
	ELSEIF HEIGHT == 191	
		CSTR:LOCAL:32 += "191"
	ENDIF
	IF HEIGHT2 != 0
	IF HEIGHT2 == 129	
		CSTR:LOCAL:32 += "129"
	ELSEIF HEIGHT2 == 135	
		CSTR:LOCAL:32 += "135"
	ELSEIF HEIGHT2 == 145	
		CSTR:LOCAL:32 += "145"
	ELSEIF HEIGHT2 == 186	
		CSTR:LOCAL:32 += "186"
	ELSEIF HEIGHT2 == 150	
		CSTR:LOCAL:32 += "150"
	ELSEIF HEIGHT2 == 151	
		CSTR:LOCAL:32 += "151"
	ELSEIF HEIGHT2 == 152	
		CSTR:LOCAL:32 += "152"
	ELSEIF HEIGHT2 == 153	
		CSTR:LOCAL:32 += "153"
	ELSEIF HEIGHT2 == 154	
		CSTR:LOCAL:32 += "154"
	ELSEIF HEIGHT2 == 155	
		CSTR:LOCAL:32 += "155"
	ELSEIF HEIGHT2 == 156	
		CSTR:LOCAL:32 += "156"
	ELSEIF HEIGHT2 == 157	
		CSTR:LOCAL:32 += "157"
	ELSEIF HEIGHT2 == 158	
		CSTR:LOCAL:32 += "158"
	ELSEIF HEIGHT2 == 159	
		CSTR:LOCAL:32 += "159"
	ELSEIF HEIGHT2 == 160	
		CSTR:LOCAL:32 += "160"
	ELSEIF HEIGHT2 == 161	
		CSTR:LOCAL:32 += "161"
	ELSEIF HEIGHT2 == 162	
		CSTR:LOCAL:32 += "162"
	ELSEIF HEIGHT2 == 163	
		CSTR:LOCAL:32 += "163"
	ELSEIF HEIGHT2 == 164	
		CSTR:LOCAL:32 += "164"
	ELSEIF HEIGHT2 == 165	
		CSTR:LOCAL:32 += "165"
	ELSEIF HEIGHT2 == 166	
		CSTR:LOCAL:32 += "166"
	ELSEIF HEIGHT2 == 167	
		CSTR:LOCAL:32 += "167"
	ELSEIF HEIGHT2 == 168	
		CSTR:LOCAL:32 += "168"
	ELSEIF HEIGHT2 == 169	
		CSTR:LOCAL:32 += "169"
	ENDIF
	SIF DECIMAL2 == 2
		CSTR:LOCAL:32 += ".2"
	ENDIF
	CSTR:LOCAL:32 += "cm"
ENDIF
;/
CSTR:LOCAL:32 += " / "
;체중
WEIGHT = CSVBASE(C, 28, 0)
DECIMALW = CSVBASE(C, 84, 0)
WEIGHT2 = CSVBASE(C, 85, 0)
DECIMALW2 = CSVBASE(C, 86, 0)

CSTR:LOCAL:32 += "체중："
;佐藤心の場合
IF C == 6169
	CSTR:LOCAL:32 += "다이어트중"
;千川ちひろの場合
ELSEIF C == 6199
	CSTR:LOCAL:32 += "비・이・밀"
ELSE
	IF WEIGHT == 0
		CSTR:LOCAL:32 += "불명"
	ELSE
		IF WEIGHT == 22	
			CSTR:LOCAL:32 += "22"
		ELSEIF WEIGHT == 28	
			CSTR:LOCAL:32 += "28"
		ELSEIF WEIGHT == 29	
			CSTR:LOCAL:32 += "29"
		ELSEIF WEIGHT == 30	
			CSTR:LOCAL:32 += "30"
		ELSEIF WEIGHT == 31	
			CSTR:LOCAL:32 += "31"
		ELSEIF WEIGHT == 32	
			CSTR:LOCAL:32 += "32"
		ELSEIF WEIGHT == 33	
			CSTR:LOCAL:32 += "33"
		ELSEIF WEIGHT == 34	
			CSTR:LOCAL:32 += "34"
		ELSEIF WEIGHT == 35	
			CSTR:LOCAL:32 += "35"
		ELSEIF WEIGHT == 36	
			CSTR:LOCAL:32 += "36"
		ELSEIF WEIGHT == 37	
			CSTR:LOCAL:32 += "37"
		ELSEIF WEIGHT == 38	
			CSTR:LOCAL:32 += "38"
		ELSEIF WEIGHT == 39	
			CSTR:LOCAL:32 += "39"
		ELSEIF WEIGHT == 40	
			CSTR:LOCAL:32 += "40"
		ELSEIF WEIGHT == 41	
			CSTR:LOCAL:32 += "41"
		ELSEIF WEIGHT == 42	
			CSTR:LOCAL:32 += "42"
		ELSEIF WEIGHT == 43	
			CSTR:LOCAL:32 += "43"
		ELSEIF WEIGHT == 44	
			CSTR:LOCAL:32 += "44"
		ELSEIF WEIGHT == 45	
			CSTR:LOCAL:32 += "45"
		ELSEIF WEIGHT == 46	
			CSTR:LOCAL:32 += "46"
		ELSEIF WEIGHT == 47	
			CSTR:LOCAL:32 += "47"
		ELSEIF WEIGHT == 48	
			CSTR:LOCAL:32 += "48"
		ELSEIF WEIGHT == 49	
			CSTR:LOCAL:32 += "49"
		ELSEIF WEIGHT == 50	
			CSTR:LOCAL:32 += "50"
		ELSEIF WEIGHT == 51	
			CSTR:LOCAL:32 += "51"
		ELSEIF WEIGHT == 52	
			CSTR:LOCAL:32 += "52"
		ELSEIF WEIGHT == 53	
			CSTR:LOCAL:32 += "53"
		ELSEIF WEIGHT == 54	
			CSTR:LOCAL:32 += "54"
		ELSEIF WEIGHT == 55	
			CSTR:LOCAL:32 += "55"
		ELSEIF WEIGHT == 56	
			CSTR:LOCAL:32 += "56"
		ELSEIF WEIGHT == 57	
			CSTR:LOCAL:32 += "57"
		ELSEIF WEIGHT == 58	
			CSTR:LOCAL:32 += "58"
		ELSEIF WEIGHT == 59	
			CSTR:LOCAL:32 += "59"
		ELSEIF WEIGHT == 60	
			CSTR:LOCAL:32 += "60"
		ELSEIF WEIGHT == 61	
			CSTR:LOCAL:32 += "61"
		ELSEIF WEIGHT == 62	
			CSTR:LOCAL:32 += "62"
		ELSEIF WEIGHT == 63	
			CSTR:LOCAL:32 += "63"
		ELSEIF WEIGHT == 64	
			CSTR:LOCAL:32 += "64"
		ELSEIF WEIGHT == 65	
			CSTR:LOCAL:32 += "65"
		ELSEIF WEIGHT == 66	
			CSTR:LOCAL:32 += "66"
		ELSEIF WEIGHT == 67	
			CSTR:LOCAL:32 += "67"
		ELSEIF WEIGHT == 68	
			CSTR:LOCAL:32 += "68"
		ELSEIF WEIGHT == 69	
			CSTR:LOCAL:32 += "69"
		ELSEIF WEIGHT == 70	
			CSTR:LOCAL:32 += "70"
		ELSEIF WEIGHT == 71	
			CSTR:LOCAL:32 += "71"
		ELSEIF WEIGHT == 72	
			CSTR:LOCAL:32 += "72"
		ELSEIF WEIGHT == 73	
			CSTR:LOCAL:32 += "73"
		ELSEIF WEIGHT == 74	
			CSTR:LOCAL:32 += "74"
		ELSEIF WEIGHT == 75	
			CSTR:LOCAL:32 += "75"
		ELSEIF WEIGHT == 76	
			CSTR:LOCAL:32 += "76"
		ELSEIF WEIGHT == 77	
			CSTR:LOCAL:32 += "77"
		ELSEIF WEIGHT == 78	
			CSTR:LOCAL:32 += "78"
		ELSEIF WEIGHT == 79	
			CSTR:LOCAL:32 += "79"
		ELSEIF WEIGHT == 80	
			CSTR:LOCAL:32 += "80"
		ENDIF	
		IF DECIMALW == 5
			CSTR:LOCAL:32 += ".5"
		ELSEIF DECIMALW == 9
			CSTR:LOCAL:32 += ".9"
		ENDIF
		IF WEIGHT2 != 0
			CSTR:LOCAL:32 += " → "
			IF WEIGHT2 == 30	
				CSTR:LOCAL:32 += "30"
			ELSEIF WEIGHT2 == 31	
				CSTR:LOCAL:32 += "31"
			ELSEIF WEIGHT2 == 32	
				CSTR:LOCAL:32 += "32"
			ELSEIF WEIGHT2 == 33	
				CSTR:LOCAL:32 += "33"
			ELSEIF WEIGHT2 == 34	
				CSTR:LOCAL:32 += "34"
			ELSEIF WEIGHT2 == 35	
				CSTR:LOCAL:32 += "35"
			ELSEIF WEIGHT2 == 36	
				CSTR:LOCAL:32 += "36"
			ELSEIF WEIGHT2 == 37	
				CSTR:LOCAL:32 += "37"
			ELSEIF WEIGHT2 == 38	
				CSTR:LOCAL:32 += "38"
			ELSEIF WEIGHT2 == 39	
				CSTR:LOCAL:32 += "39"
			ELSEIF WEIGHT2 == 40	
				CSTR:LOCAL:32 += "40"
			ELSEIF WEIGHT2 == 41	
				CSTR:LOCAL:32 += "41"
			ELSEIF WEIGHT2 == 42	
				CSTR:LOCAL:32 += "42"
			ELSEIF WEIGHT2 == 43	
				CSTR:LOCAL:32 += "43"
			ELSEIF WEIGHT2 == 44	
				CSTR:LOCAL:32 += "44"
			ELSEIF WEIGHT2 == 45	
				CSTR:LOCAL:32 += "45"
			ELSEIF WEIGHT2 == 46	
				CSTR:LOCAL:32 += "46"
			ELSEIF WEIGHT2 == 47	
				CSTR:LOCAL:32 += "47"
			ELSEIF WEIGHT2 == 48	
				CSTR:LOCAL:32 += "48"
			ELSEIF WEIGHT2 == 49	
				CSTR:LOCAL:32 += "49"
			ELSEIF WEIGHT2 == 50	
				CSTR:LOCAL:32 += "50"
			ELSEIF WEIGHT2 == 51	
				CSTR:LOCAL:32 += "51"
			ELSEIF WEIGHT2 == 52	
				CSTR:LOCAL:32 += "52"
			ELSEIF WEIGHT2 == 53	
				CSTR:LOCAL:32 += "53"
			ELSEIF WEIGHT2 == 54	
				CSTR:LOCAL:32 += "54"
			ELSEIF WEIGHT2 == 55	
				CSTR:LOCAL:32 += "55"
			ELSEIF WEIGHT2 == 56	
				CSTR:LOCAL:32 += "56"
			ELSEIF WEIGHT2 == 57	
				CSTR:LOCAL:32 += "57"
			ELSEIF WEIGHT2 == 58	
				CSTR:LOCAL:32 += "58"
			ELSEIF WEIGHT2 == 59	
				CSTR:LOCAL:32 += "59"
			ELSEIF WEIGHT2 == 60	
				CSTR:LOCAL:32 += "60"
			ELSEIF WEIGHT2 == 61	
				CSTR:LOCAL:32 += "61"
			ENDIF
			SIF DECIMALW2 == 5
				CSTR:LOCAL:32 += ".5"
		ENDIF
		CSTR:LOCAL:32 += "kg"
	ENDIF
ENDIF
;3사이즈 or 신발
;남자면 3사이즈 무시
IF MALE == 1 || CSVTALENT(C, 157, 0) == 1
ELSE
	;B
	BUST = CSVBASE(C, 25, 0)
	BUST2 = CSVBASE(C, 87, 0)

	CSTR:LOCAL:32 += " / Ｂ："
	;大沼くるみの場合
	IF C == 5925
		CSTR:LOCAL:32 += "크다"
	;佐藤心の場合
	ELSEIF C == 6169
		CSTR:LOCAL:32 += "봉"
	ELSE
		IF BUST == 0
			CSTR:LOCAL:32 += "불명"
		ELSE
			IF BUST == 60	
				CSTR:LOCAL:32 += "60"
			ELSEIF BUST == 61	
				CSTR:LOCAL:32 += "61"
			ELSEIF BUST == 62	
				CSTR:LOCAL:32 += "62"
			ELSEIF BUST == 63	
				CSTR:LOCAL:32 += "63"
			ELSEIF BUST == 64	
				CSTR:LOCAL:32 += "64"
			ELSEIF BUST == 65	
				CSTR:LOCAL:32 += "65"
			ELSEIF BUST == 66	
				CSTR:LOCAL:32 += "66"
			ELSEIF BUST == 67	
				CSTR:LOCAL:32 += "67"
			ELSEIF BUST == 68	
				CSTR:LOCAL:32 += "68"
			ELSEIF BUST == 69	
				CSTR:LOCAL:32 += "69"
			ELSEIF BUST == 70	
				CSTR:LOCAL:32 += "70"
			ELSEIF BUST == 71	
				CSTR:LOCAL:32 += "71"
			ELSEIF BUST == 72	
				CSTR:LOCAL:32 += "72"
			ELSEIF BUST == 73	
				CSTR:LOCAL:32 += "73"
			ELSEIF BUST == 74	
				CSTR:LOCAL:32 += "74"
			ELSEIF BUST == 75	
				CSTR:LOCAL:32 += "75"
			ELSEIF BUST == 76	
				CSTR:LOCAL:32 += "76"
			ELSEIF BUST == 77	
				CSTR:LOCAL:32 += "77"
			ELSEIF BUST == 78	
				CSTR:LOCAL:32 += "78"
			ELSEIF BUST == 79	
				CSTR:LOCAL:32 += "79"
			ELSEIF BUST == 80	
				CSTR:LOCAL:32 += "80"
			ELSEIF BUST == 81	
				CSTR:LOCAL:32 += "81"
			ELSEIF BUST == 82	
				CSTR:LOCAL:32 += "82"
			ELSEIF BUST == 83	
				CSTR:LOCAL:32 += "83"
			ELSEIF BUST == 84	
				CSTR:LOCAL:32 += "84"
			ELSEIF BUST == 85	
				CSTR:LOCAL:32 += "85"
			ELSEIF BUST == 86	
				CSTR:LOCAL:32 += "86"
			ELSEIF BUST == 87	
				CSTR:LOCAL:32 += "87"
			ELSEIF BUST == 88	
				CSTR:LOCAL:32 += "88"
			ELSEIF BUST == 89	
				CSTR:LOCAL:32 += "89"
			ELSEIF BUST == 90	
				CSTR:LOCAL:32 += "90"
			ELSEIF BUST == 91	
				CSTR:LOCAL:32 += "91"
			ELSEIF BUST == 92	
				CSTR:LOCAL:32 += "92"
			ELSEIF BUST == 93	
				CSTR:LOCAL:32 += "93"
			ELSEIF BUST == 94	
				CSTR:LOCAL:32 += "94"
			ELSEIF BUST == 95	
				CSTR:LOCAL:32 += "95"
			ELSEIF BUST == 96	
				CSTR:LOCAL:32 += "96"
			ELSEIF BUST == 97	
				CSTR:LOCAL:32 += "97"
			ELSEIF BUST == 98	
				CSTR:LOCAL:32 += "98"
			ELSEIF BUST == 99	
				CSTR:LOCAL:32 += "99"
			ELSEIF BUST == 100	
				CSTR:LOCAL:32 += "100"
			ELSEIF BUST == 101	
				CSTR:LOCAL:32 += "101"
			ELSEIF BUST == 102	
				CSTR:LOCAL:32 += "102"
			ELSEIF BUST == 103	
				CSTR:LOCAL:32 += "103"
			ELSEIF BUST == 104	
				CSTR:LOCAL:32 += "104"
			ELSEIF BUST == 105	
				CSTR:LOCAL:32 += "105"
			ENDIF
			IF BUST2 != 0
				CSTR:LOCAL:32 += " → "
				IF BUST2 == 62
					CSTR:LOCAL:32 += "62"
				ELSEIF BUST2 == 68	
					CSTR:LOCAL:32 += "68"
				ELSEIF BUST2 == 69	
					CSTR:LOCAL:32 += "69"
				ELSEIF BUST2 == 70	
					CSTR:LOCAL:32 += "70"
				ELSEIF BUST2 == 71	
					CSTR:LOCAL:32 += "71"
				ELSEIF BUST2 == 72	
					CSTR:LOCAL:32 += "72"
				ELSEIF BUST2 == 73	
					CSTR:LOCAL:32 += "73"
				ELSEIF BUST2 == 74	
					CSTR:LOCAL:32 += "74"
				ELSEIF BUST2 == 75	
					CSTR:LOCAL:32 += "75"
				ELSEIF BUST2 == 76	
					CSTR:LOCAL:32 += "76"
				ELSEIF BUST2 == 77	
					CSTR:LOCAL:32 += "77"
				ELSEIF BUST2 == 78	
					CSTR:LOCAL:32 += "78"
				ELSEIF BUST2 == 79	
					CSTR:LOCAL:32 += "79"
				ELSEIF BUST2 == 80	
					CSTR:LOCAL:32 += "80"
				ELSEIF BUST2 == 81	
					CSTR:LOCAL:32 += "81"
				ELSEIF BUST2 == 82	
					CSTR:LOCAL:32 += "82"
				ELSEIF BUST2 == 83	
					CSTR:LOCAL:32 += "83"
				ELSEIF BUST2 == 84	
					CSTR:LOCAL:32 += "84"
				ELSEIF BUST2 == 85	
					CSTR:LOCAL:32 += "85"
				ELSEIF BUST2 == 86	
					CSTR:LOCAL:32 += "86"
				ELSEIF BUST2 == 87	
					CSTR:LOCAL:32 += "87"
				ELSEIF BUST2 == 88	
					CSTR:LOCAL:32 += "88"
				ELSEIF BUST2 == 89	
					CSTR:LOCAL:32 += "89"
				ELSEIF BUST2 == 90	
					CSTR:LOCAL:32 += "90"
				ELSEIF BUST2 == 91	
					CSTR:LOCAL:32 += "91"
				ELSEIF BUST2 == 92	
					CSTR:LOCAL:32 += "92"
				ENDIF
			ENDIF
			CSTR:LOCAL:32 += "cm"
		ENDIF
	ENDIF

	;/
	CSTR:LOCAL:32 += " / "

	;W
	WAIST = CSVBASE(C, 26, 0)
	WAIST2 = CSVBASE(C, 88, 0)

	CSTR:LOCAL:32 += "Ｗ："
	;大沼くるみの場合
	IF C == 5925
		CSTR:LOCAL:32 += "보통"
	;佐藤心の場合
	ELSEIF C == 6169
		CSTR:LOCAL:32 += "큣"
	ELSE
		IF WAIST == 0
			CSTR:LOCAL:32 += "불명"
		ELSE
			IF WAIST == 76	
				CSTR:LOCAL:32 += "76"
			ELSEIF WAIST == 47	
				CSTR:LOCAL:32 += "47"
			ELSEIF WAIST == 49	
				CSTR:LOCAL:32 += "49"
			ELSEIF WAIST == 50	
				CSTR:LOCAL:32 += "50"
			ELSEIF WAIST == 51	
				CSTR:LOCAL:32 += "51"
			ELSEIF WAIST == 52	
				CSTR:LOCAL:32 += "52"
			ELSEIF WAIST == 53	
				CSTR:LOCAL:32 += "53"
			ELSEIF WAIST == 54	
				CSTR:LOCAL:32 += "54"
			ELSEIF WAIST == 55	
				CSTR:LOCAL:32 += "55"
			ELSEIF WAIST == 56	
				CSTR:LOCAL:32 += "56"
			ELSEIF WAIST == 57	
				CSTR:LOCAL:32 += "57"
			ELSEIF WAIST == 58	
				CSTR:LOCAL:32 += "58"
			ELSEIF WAIST == 59	
				CSTR:LOCAL:32 += "59"
			ELSEIF WAIST == 60	
				CSTR:LOCAL:32 += "60"
			ELSEIF WAIST == 61	
				CSTR:LOCAL:32 += "61"
			ELSEIF WAIST == 62	
				CSTR:LOCAL:32 += "62"
			ELSEIF WAIST == 63	
				CSTR:LOCAL:32 += "63"
			ELSEIF WAIST == 64	
				CSTR:LOCAL:32 += "64"
			ELSEIF WAIST == 65	
				CSTR:LOCAL:32 += "65"
			ELSEIF WAIST == 66	
				CSTR:LOCAL:32 += "66"
			ELSEIF WAIST == 67	
				CSTR:LOCAL:32 += "67"
			ELSEIF WAIST == 68	
				CSTR:LOCAL:32 += "68"
			ELSEIF WAIST == 69	
				CSTR:LOCAL:32 += "69"
			ENDIF
			CSTR:LOCAL:32 += "{WAIST}"
			IF WAIST2 != 0
				CSTR:LOCAL:32 += " → "
				IF WAIST2 == 51	
					CSTR:LOCAL:32 += "51"
				ELSEIF WAIST2 == 52	
					CSTR:LOCAL:32 += "52"
				ELSEIF WAIST2 == 53	
					CSTR:LOCAL:32 += "53"
				ELSEIF WAIST2 == 54	
					CSTR:LOCAL:32 += "54"
				ELSEIF WAIST2 == 55	
					CSTR:LOCAL:32 += "55"
				ELSEIF WAIST2 == 56	
					CSTR:LOCAL:32 += "56"
				ELSEIF WAIST2 == 57	
					CSTR:LOCAL:32 += "57"
				ELSEIF WAIST2 == 58	
					CSTR:LOCAL:32 += "58"
				ELSEIF WAIST2 == 59	
					CSTR:LOCAL:32 += "59"
				ELSEIF WAIST2 == 60	
					CSTR:LOCAL:32 += "60"
				ELSEIF WAIST2 == 61	
					CSTR:LOCAL:32 += "61"
				ELSEIF WAIST2 == 62	
					CSTR:LOCAL:32 += "62"
				ELSEIF WAIST2 == 63	
					CSTR:LOCAL:32 += "63"
				ELSEIF WAIST2 == 64	
					CSTR:LOCAL:32 += "64"
				ELSEIF WAIST2 == 65	
					CSTR:LOCAL:32 += "65"
				ELSEIF WAIST2 == 66	
					CSTR:LOCAL:32 += "66"
				ELSEIF WAIST2 == 67	
					CSTR:LOCAL:32 += "67"
				ENDIF
			ENDIF
			CSTR:LOCAL:32 += "cm"
		ENDIF
	ENDIF

	;/
	CSTR:LOCAL:32 += " / "

	;H
	HIP = CSVBASE(C, 27, 0)
	HIP2 = CSVBASE(C, 89, 0)
	CSTR:LOCAL:32 += "Ｈ："
	;大沼くるみの場合
	IF C == 5925
		CSTR:LOCAL:32 += "그럭저럭"
	;佐藤心の場合
	ELSEIF C == 6169
		CSTR:LOCAL:32 += "봉♪"
	ELSE
		IF HIP == 0
			CSTR:LOCAL:32 += "불명"
		ELSE
			IF HIP == 65	
				CSTR:LOCAL:32 += "65"
			ELSEIF HIP == 66	
				CSTR:LOCAL:32 += "66"
			ELSEIF HIP == 67	
				CSTR:LOCAL:32 += "67"
			ELSEIF HIP == 68	
				CSTR:LOCAL:32 += "68"
			ELSEIF HIP == 69	
				CSTR:LOCAL:32 += "69"
			ELSEIF HIP == 70	
				CSTR:LOCAL:32 += "70"
			ELSEIF HIP == 71	
				CSTR:LOCAL:32 += "71"
			ELSEIF HIP == 72	
				CSTR:LOCAL:32 += "72"
			ELSEIF HIP == 73	
				CSTR:LOCAL:32 += "73"
			ELSEIF HIP == 74	
				CSTR:LOCAL:32 += "74"
			ELSEIF HIP == 75	
				CSTR:LOCAL:32 += "75"
			ELSEIF HIP == 76	
				CSTR:LOCAL:32 += "76"
			ELSEIF HIP == 77	
				CSTR:LOCAL:32 += "77"
			ELSEIF HIP == 78	
				CSTR:LOCAL:32 += "78"
			ELSEIF HIP == 79	
				CSTR:LOCAL:32 += "79"
			ELSEIF HIP == 80	
				CSTR:LOCAL:32 += "80"
			ELSEIF HIP == 81	
				CSTR:LOCAL:32 += "81"
			ELSEIF HIP == 82	
				CSTR:LOCAL:32 += "82"
			ELSEIF HIP == 83	
				CSTR:LOCAL:32 += "83"
			ELSEIF HIP == 84	
				CSTR:LOCAL:32 += "84"
			ELSEIF HIP == 85	
				CSTR:LOCAL:32 += "85"
			ELSEIF HIP == 86	
				CSTR:LOCAL:32 += "86"
			ELSEIF HIP == 87	
				CSTR:LOCAL:32 += "87"
			ELSEIF HIP == 88	
				CSTR:LOCAL:32 += "88"
			ELSEIF HIP == 89	
				CSTR:LOCAL:32 += "89"
			ELSEIF HIP == 90	
				CSTR:LOCAL:32 += "90"
			ELSEIF HIP == 91	
				CSTR:LOCAL:32 += "91"
			ELSEIF HIP == 92	
				CSTR:LOCAL:32 += "92"
			ELSEIF HIP == 93	
				CSTR:LOCAL:32 += "93"
			ENDIF
			IF HIP2 != 0
				CSTR:LOCAL:32 += " → "
				IF HIP2 == 92	
					CSTR:LOCAL:32 += "92"
				ELSEIF HIP2 == 72	
					CSTR:LOCAL:32 += "72"
				ELSEIF HIP2 == 77	
					CSTR:LOCAL:32 += "77"
				ELSEIF HIP2 == 78	
					CSTR:LOCAL:32 += "78"
				ELSEIF HIP2 == 79	
					CSTR:LOCAL:32 += "79"
				ELSEIF HIP2 == 80	
					CSTR:LOCAL:32 += "80"
				ELSEIF HIP2 == 81	
					CSTR:LOCAL:32 += "81"
				ELSEIF HIP2 == 82	
					CSTR:LOCAL:32 += "82"
				ELSEIF HIP2 == 83	
					CSTR:LOCAL:32 += "83"
				ELSEIF HIP2 == 84	
					CSTR:LOCAL:32 += "84"
				ELSEIF HIP2 == 85	
					CSTR:LOCAL:32 += "85"
				ELSEIF HIP2 == 86	
					CSTR:LOCAL:32 += "86"
				ELSEIF HIP2 == 87	
					CSTR:LOCAL:32 += "87"
				ENDIF
			ENDIF
			CSTR:LOCAL:32 += "cm"
		ENDIF
	ENDIF
ENDIF
;신발사이즈
IF SHOESIZE != 0
CSTR:LOCAL:32 += " / 신발사이즈："
	IF SHOESIZE == 20
		CSTR:LOCAL:32 += "20"
	ELSEIF SHOESIZE == 21	
		CSTR:LOCAL:32 += "21"
	ELSEIF SHOESIZE == 22	
		CSTR:LOCAL:32 += "22"
	ELSEIF SHOESIZE == 23	
		CSTR:LOCAL:32 += "23"
	ELSEIF SHOESIZE == 24	
		CSTR:LOCAL:32 += "24"
	ELSEIF SHOESIZE == 25	
		CSTR:LOCAL:32 += "25"
	ELSEIF SHOESIZE == 26	
		CSTR:LOCAL:32 += "26"
	ELSEIF SHOESIZE == 27	
		CSTR:LOCAL:32 += "27"
	ELSEIF SHOESIZE == 28	
		CSTR:LOCAL:32 += "28"
	ENDIF
	SIF DECIMALS != 0
	CSTR:LOCAL:32 += "."
	IF DECIMALS == 1	
		CSTR:LOCAL:32 += "1"
	ELSEIF DECIMALS == 2	
		CSTR:LOCAL:32 += "2"
	ELSEIF DECIMALS == 3	
		CSTR:LOCAL:32 += "3"
	ELSEIF DECIMALS == 4	
		CSTR:LOCAL:32 += "4"
	ELSEIF DECIMALS == 5	
		CSTR:LOCAL:32 += "5"
	ELSEIF DECIMALS == 6	
		CSTR:LOCAL:32 += "6"
	ELSEIF DECIMALS == 7	
		CSTR:LOCAL:32 += "7"
	ELSEIF DECIMALS == 8	
		CSTR:LOCAL:32 += "8"
	ELSEIF DECIMALS == 9	
		CSTR:LOCAL:32 += "9"
	ENDIF
	CSTR:LOCAL:32 += "cm"
ENDIF

;4열 시작
; 생일

BMONTH = CSVBASE(C, 92, 0)
BDAY = CSVBASE(C, 93, 0)

CSTR:LOCAL:33 += "생일："
;아수라ンの場合
SIF C == 6276
	CSTR:LOCAL:33 += "마야력5174년"
IF BMONTH == 0
	IF BDAY == 0
		CSTR:LOCAL:33 += "불명"
	ELSE
		CSTR:LOCAL:33 += "？월"
	ENDIF
;ピエールの場合
ELSEIF C == 6257
	CSTR:LOCAL:33 += "팔월"
ELSE
	IF BMONTH == 1	
		CSTR:LOCAL:32 += "1"
	ELSEIF BMONTH == 2	
		CSTR:LOCAL:32 += "2"
	ELSEIF BMONTH == 3	
		CSTR:LOCAL:32 += "3"
	ELSEIF BMONTH == 4	
		CSTR:LOCAL:32 += "4"
	ELSEIF BMONTH == 5	
		CSTR:LOCAL:32 += "5"
	ELSEIF BMONTH == 6	
		CSTR:LOCAL:32 += "6"
	ELSEIF BMONTH == 7	
		CSTR:LOCAL:32 += "7"
	ELSEIF BMONTH == 8	
		CSTR:LOCAL:32 += "8"
	ELSEIF BMONTH == 9	
		CSTR:LOCAL:32 += "9"
	ELSEIF BMONTH == 10	
		CSTR:LOCAL:32 += "10"
	ELSEIF BMONTH == 11	
		CSTR:LOCAL:32 += "11"
	ELSEIF BMONTH == 12	
		CSTR:LOCAL:32 += "12"
	ENDIF
	CSTR:LOCAL:33 += "월"
ENDIF

IF BDAY == 0
	IF BMONTH == 0
		CSTR:LOCAL:33 += ""
	ELSE
		CSTR:LOCAL:33 += "？일"
	ENDIF
;ピエールの場合
ELSEIF C == 6257
	CSTR:LOCAL:33 += "일일"
ELSE
	IF BDAY == 1	
		CSTR:LOCAL:32 += "1"
	ELSEIF BDAY == 2	
		CSTR:LOCAL:32 += "2"
	ELSEIF BDAY == 3	
		CSTR:LOCAL:32 += "3"
	ELSEIF BDAY == 4	
		CSTR:LOCAL:32 += "4"
	ELSEIF BDAY == 5	
		CSTR:LOCAL:32 += "5"
	ELSEIF BDAY == 6	
		CSTR:LOCAL:32 += "6"
	ELSEIF BDAY == 7	
		CSTR:LOCAL:32 += "7"
	ELSEIF BDAY == 8	
		CSTR:LOCAL:32 += "8"
	ELSEIF BDAY == 9	
		CSTR:LOCAL:32 += "9"
	ELSEIF BDAY == 10	
		CSTR:LOCAL:32 += "10"
	ELSEIF BDAY == 11	
		CSTR:LOCAL:32 += "11"
	ELSEIF BDAY == 12	
		CSTR:LOCAL:32 += "12"
	ELSEIF BDAY == 13	
		CSTR:LOCAL:32 += "13"
	ELSEIF BDAY == 14	
		CSTR:LOCAL:32 += "14"
	ELSEIF BDAY == 15	
		CSTR:LOCAL:32 += "15"
	ELSEIF BDAY == 16	
		CSTR:LOCAL:32 += "16"
	ELSEIF BDAY == 17	
		CSTR:LOCAL:32 += "17"
	ELSEIF BDAY == 18	
		CSTR:LOCAL:32 += "18"
	ELSEIF BDAY == 19	
		CSTR:LOCAL:32 += "19"
	ELSEIF BDAY == 20	
		CSTR:LOCAL:32 += "20"
	ELSEIF BDAY == 21	
		CSTR:LOCAL:32 += "21"
	ELSEIF BDAY == 22	
		CSTR:LOCAL:32 += "22"
	ELSEIF BDAY == 23	
		CSTR:LOCAL:32 += "23"
	ELSEIF BDAY == 24	
		CSTR:LOCAL:32 += "24"
	ELSEIF BDAY == 25	
		CSTR:LOCAL:32 += "25"
	ELSEIF BDAY == 26	
		CSTR:LOCAL:32 += "26"
	ELSEIF BDAY == 27	
		CSTR:LOCAL:32 += "27"
	ELSEIF BDAY == 28	
		CSTR:LOCAL:32 += "28"
	ELSEIF BDAY == 29	
		CSTR:LOCAL:32 += "29"
	ELSEIF BDAY == 30	
		CSTR:LOCAL:32 += "30"
	ELSEIF BDAY == 31	
		CSTR:LOCAL:32 += "31"
	ENDIF
	CSTR:LOCAL:33 += "일"
ENDIF

; 별자리
CSTR:LOCAL:33 += " / 별자리："
;杏の場合
SIF C == 148
	CSTR:LOCAL:33 += "꽃다운 처녀자리"
IF (BMONTH == 3 && BDAY >= 21) || (BMONTH == 4 && BDAY <= 20)
	CSTR:LOCAL:33 += "양자리"
ELSEIF (BMONTH == 4 && BDAY >= 21) || (BMONTH == 5 && BDAY <= 20)
	CSTR:LOCAL:33 += "황소자리"
ELSEIF (BMONTH == 5 && BDAY >= 21) || (BMONTH == 6 && BDAY <= 21)
	CSTR:LOCAL:33 += "쌍둥이자리"
ELSEIF (BMONTH == 6 && BDAY >= 22) || (BMONTH == 7 && BDAY <= 23)
	CSTR:LOCAL:33 += "게자리"
ELSEIF (BMONTH == 7 && BDAY >= 24) || (BMONTH == 8 && BDAY <= 23)
	;ピエールの場合
	IF C == 6257
		CSTR:LOCAL:33 += "레오"
	ELSE
		CSTR:LOCAL:33 += "사자자리"
	ENDIF
ELSEIF (BMONTH == 8 && BDAY >= 24) || (BMONTH == 9 && BDAY <= 23)
	CSTR:LOCAL:33 += "처녀자리"
ELSEIF (BMONTH == 9 && BDAY >= 24) || (BMONTH == 10 && BDAY <= 23)
	CSTR:LOCAL:33 += "천칭자리"
ELSEIF (BMONTH == 10 && BDAY >= 24) || (BMONTH == 11 && BDAY <= 22)
	CSTR:LOCAL:33 += "전갈자리"
ELSEIF (BMONTH == 11 && BDAY >= 23) || (BMONTH == 12 && BDAY <= 22)
	CSTR:LOCAL:33 += "사수자리"
ELSEIF (BMONTH == 12 && BDAY >= 23) || (BMONTH == 1 && BDAY <= 20)
	CSTR:LOCAL:33 += "산양자리"
ELSEIF (BMONTH == 1 && BDAY >= 21) || (BMONTH == 2 && BDAY <= 19)
	CSTR:LOCAL:33 += "물병자리"
ELSEIF (BMONTH == 2 && BDAY >= 20) || (BMONTH == 3 && BDAY <= 20)
	CSTR:LOCAL:33 += "물고기자리"
ELSE
	CSTR:LOCAL:33 += "불명"
ENDIF


; 혈액형
BTYPE = CSVBASE(C, 94, 0)
CSTR:LOCAL:33 += " / 혈액형："
IF BTYPE == 0
	CSTR:LOCAL:33 += "불명"
ELSEIF BTYPE == 1
	CSTR:LOCAL:33 += "A형"
ELSEIF BTYPE == 2
	CSTR:LOCAL:33 += "B형"
ELSEIF BTYPE == 3
	;ピエールの場合
	IF C == 6257
		CSTR:LOCAL:33 += "오ー형"
	ELSE
		CSTR:LOCAL:33 += "O형"
	ENDIF
ELSE
	CSTR:LOCAL:33 += "AB형"
ENDIF

;잘쓰는손
HAND = CSVBASE(C, 95, 0)
CSTR:LOCAL:33 += " / 잘 쓰는 손："
IF HAND == 0
	CSTR:LOCAL:33 += "불명"
ELSEIF HAND == 1
	CSTR:LOCAL:33 += "오른"
ELSEIF HAND == 2
	CSTR:LOCAL:33 += "왼"
ELSEIF HAND == 3
	;ピエールの場合
	IF C == 6257
		CSTR:LOCAL:33 += "두"
	ELSE
		CSTR:LOCAL:33 += "양"
	ENDIF
ENDIF
		CSTR:LOCAL:33 += "손"

;5열 시작
;취미 외

IF CSVCSTR(C, 67) != "" && CSVCSTR(C, 68) == "" &&  CSVCSTR(C, 69) == ""
	CSTR:LOCAL:34 =  취미：%CSVCSTR(C, 67,)%
ELSEIF CSVCSTR(C, 67) != "" && CSVCSTR(C, 68) != "" &&  CSVCSTR(C, 69) == ""
	CSTR:LOCAL:34 =  취미：%CSVCSTR(C, 67,)% / 특기：%CSVCSTR(C, 68,)%
ELSEIF CSVCSTR(C, 67) != "" && CSVCSTR(C, 68) != "" &&  CSVCSTR(C, 69) != ""
	CSTR:LOCAL:34 =  취미：%CSVCSTR(C, 67,)% / 특기：%CSVCSTR(C, 68,)% / 좋아하는것：%CSVCSTR(C, 69,)%
ELSEIF CSVCSTR(C, 67) != "" && CSVCSTR(C, 68) == "" &&  CSVCSTR(C, 69) != ""
	CSTR:LOCAL:34 =  취미：%CSVCSTR(C, 67,)% / 좋아하는것：%CSVCSTR(C, 69,)%
ENDIF





PLACENUM = CSVBASE(C, 80, 0)
;출신지불명の場合は표시しない
IF PLACENUM != 0
	CSTR:LOCAL:34 += " / 출신지："
	;IF PLACENUM == 0
	;	CSTR:LOCAL:34 += "불명"
	IF PLACENUM == 1
		CSTR:LOCAL:34 += "홋카이도"
	ELSEIF PLACENUM == 2
		CSTR:LOCAL:34 += "아오모리"
	ELSEIF PLACENUM == 3
		CSTR:LOCAL:34 += "이와테"
	ELSEIF PLACENUM == 4
		CSTR:LOCAL:34 += "미야기"
	ELSEIF PLACENUM == 5
		CSTR:LOCAL:34 += "아키타"
	ELSEIF PLACENUM == 6
		CSTR:LOCAL:34 += "야마가타"
	ELSEIF PLACENUM == 7
		CSTR:LOCAL:34 += "후쿠시마"
	ELSEIF PLACENUM == 8
		CSTR:LOCAL:34 += "이바라키"
	ELSEIF PLACENUM == 9
		CSTR:LOCAL:34 += "도치키"
	ELSEIF PLACENUM == 10
		CSTR:LOCAL:34 += "군마"
	ELSEIF PLACENUM == 11
		CSTR:LOCAL:34 += "사이타마"
	ELSEIF PLACENUM==12
		CSTR:LOCAL:34 += "치바"
	ELSEIF PLACENUM==13
		CSTR:LOCAL:34 += "도쿄"
	ELSEIF PLACENUM==14
		CSTR:LOCAL:34 += "카나가와"
	ELSEIF PLACENUM==15
		CSTR:LOCAL:34 += "니가타"
	ELSEIF PLACENUM==16
		CSTR:LOCAL:34 += "토야마"
	ELSEIF PLACENUM==17
		CSTR:LOCAL:34 += "이시카와"
	ELSEIF PLACENUM==18
		CSTR:LOCAL:34 += "후쿠이"
	ELSEIF PLACENUM==19
		CSTR:LOCAL:34 += "야마나시"
	ELSEIF PLACENUM==20
		CSTR:LOCAL:34 += "나가노"
	ELSEIF PLACENUM==21
		CSTR:LOCAL:34 += "기후"
	ELSEIF PLACENUM==22
		CSTR:LOCAL:34 += "시즈오카"
	ELSEIF PLACENUM==23
		CSTR:LOCAL:34 += "아이치"
	ELSEIF PLACENUM==24
		CSTR:LOCAL:34 += "미에"
	ELSEIF PLACENUM==25
		CSTR:LOCAL:34 += "시가"
	ELSEIF PLACENUM==26
		CSTR:LOCAL:34 += "교토"
	ELSEIF PLACENUM==27
		CSTR:LOCAL:34 += "오사카"
	ELSEIF PLACENUM==28
		CSTR:LOCAL:34 += "효고"
	ELSEIF PLACENUM==29
		CSTR:LOCAL:34 += "나라"
	ELSEIF PLACENUM==30
		CSTR:LOCAL:34 += "와카야마"
	ELSEIF PLACENUM==31
		CSTR:LOCAL:34 += "돗토리"
	ELSEIF PLACENUM==32
		CSTR:LOCAL:34 += "시마네"
	ELSEIF PLACENUM==33
		CSTR:LOCAL:34 += "오카야마"
	ELSEIF PLACENUM==34
		CSTR:LOCAL:34 += "히로시마"
	ELSEIF PLACENUM==35
		CSTR:LOCAL:34 += "야마구치"
	ELSEIF PLACENUM==36
		CSTR:LOCAL:34 += "도쿠시마"
	ELSEIF PLACENUM==37
		CSTR:LOCAL:34 += "카가와"
	ELSEIF PLACENUM==38
		CSTR:LOCAL:34 += "에히메"
	ELSEIF PLACENUM==39
		CSTR:LOCAL:34 += "코치"
	ELSEIF PLACENUM==40
		CSTR:LOCAL:34 += "후쿠오카"
	ELSEIF PLACENUM==41
		CSTR:LOCAL:34 += "사가"
	ELSEIF PLACENUM==42
		CSTR:LOCAL:34 += "나가사키"
	ELSEIF PLACENUM==43
		CSTR:LOCAL:34 += "쿠마모토"
	ELSEIF PLACENUM==44
		CSTR:LOCAL:34 += "오이타"
	ELSEIF PLACENUM==45
		CSTR:LOCAL:34 += "미야자키"
	ELSEIF PLACENUM==46
		CSTR:LOCAL:34 += "가고시마"
	ELSEIF PLACENUM==47
		CSTR:LOCAL:34 += "오키나와"
	ELSEIF PLACENUM==122
		CSTR:LOCAL:34 += "쇼난"
	ELSEIF PLACENUM==168
		CSTR:LOCAL:34 += "센다이"
	ELSEIF PLACENUM==170
		CSTR:LOCAL:34 += "나고야"
	ELSEIF PLACENUM==115
		CSTR:LOCAL:34 += "고베"
	ELSEIF PLACENUM==250
		CSTR:LOCAL:34 += "영국"
	ELSEIF PLACENUM==149
		CSTR:LOCAL:34 += "홍콩"
	ELSEIF PLACENUM==145
		CSTR:LOCAL:34 += "파리"
	ELSEIF PLACENUM==351
		CSTR:LOCAL:34 += "리우 데 자네이루"
	ELSEIF PLACENUM==359
		CSTR:LOCAL:34 += "샌프란시스코"
	ELSEIF PLACENUM==362
		CSTR:LOCAL:34 += "뉴욕"
	ELSEIF PLACENUM==224
		CSTR:LOCAL:34 += "두바이"
	ELSEIF PLACENUM==388
		CSTR:LOCAL:34 += "그린 랜드"
	ELSEIF PLACENUM==241
		CSTR:LOCAL:34 += "바다 건너"
	ELSEIF PLACENUM==163
		CSTR:LOCAL:34 += "우사밍 별"
	ELSEIF PLACENUM==140
		CSTR:LOCAL:34 += "강원도 홍천군"
	ELSEIF PLACENUM==240
		CSTR:LOCAL:34 += "시애틀"
	ELSEIF PLACENUM==340
		CSTR:LOCAL:34 += "서울"
	ELSEIF PLACENUM==454
		CSTR:LOCAL:34 += "베를린"
	ELSEIF PLACENUM==457
		CSTR:LOCAL:34 += "바다 저편(うみのむこう)"
	ELSEIF PLACENUM==466
		CSTR:LOCAL:34 += "가마쿠라"
	ELSEIF PLACENUM==469
		CSTR:LOCAL:34 += "삿포로"
	ELSEIF PLACENUM==476
		CSTR:LOCAL:34 += "게헨나"
	ELSEIF PLACENUM==482
		CSTR:LOCAL:34 += "아와지 섬"
	ELSEIF PLACENUM==483
		CSTR:LOCAL:34 += "요코스카"
	ELSEIF PLACENUM == 487
		CSTR:LOCAL:34 += "해외 어딘가"
	ELSEIF PLACENUM == 765
		CSTR:LOCAL:34 += "765프로덕션"
	ELSE
		CSTR:LOCAL:34 += "미설정"
	ENDIF
ENDIF




;이하 주석 - 마음에 안드는 분 들 있으시면 삭제 하시면 됩니다.------------------------------


;765 아이돌
IF C >= 5701 && C <= 5714
	CSTR:LOCAL:47 = 사장을 납치하여 오자와가 싼 값에 인수한 765 프로덕션 소속의 아이돌.
	CSTR:LOCAL:48 = 기존 프로듀서가 의문의 사고로 사망한 뒤 신규 프로듀서란 명목으로 당신에게 넘겨졌다.
;이오리-재벌가 딸
	IF C == 5707
		CSTR:LOCAL:49 = 거대 기업인 미나세 그룹의 추적을 피하기 위해 사고사 한것으로 처리되어 있다.
;유키호-야쿠자 딸
	ELSEIF C == 5703
		CSTR:LOCAL:49 = 하기와라구미는 조직과 관련이 없어 가벼운 은폐로 끝나있다
	ENDIF
;매니저, 직원의 경우 (사쿠라이 유메코,오카모토 카나미, 산죠바 시즈카
ELSEIF C == 5722 || C == 5723 || C == 5730
	SELECTCASE RAND:4
		CASE 0
			CSTR:LOCAL:47 = 오자와가 강제 흡수한 영세 프로덕션의 매니저였다.
		CASE 1
			CSTR:LOCAL:47 = 운나쁘게도 오자와의 프로덕션에 취직해 버린 일반인이다.
		CASE 2
			CSTR:LOCAL:47 = 오자와의 프로덕션에 끌려온 다른 연애인의 매니저였다.
		CASE 3
			CSTR:LOCAL:47 = 운나쁘게 오자와의 악마를 목격하고 끌려와 부려지는 일반인이다.	
	ENDSELECT 
		CSTR:LOCAL:48 = 일반인 임에도 반반한 얼굴 탓에 당신에게 판매되었다.

ELSE
;일반 아이돌
	SELECTCASE RAND:5
		CASE 0
			CSTR:LOCAL:47 = 오자와의 끄나플에게 스카웃 되어 아이돌로서 최소한의 교육을 받았다.
		CASE 1
			CSTR:LOCAL:47 = 운나쁘게도 오자와의 프로덕션에 오디션을 봐버렸다.
		CASE 2
			CSTR:LOCAL:47 = 오자와의 악마들에게 납치 되었다가 상품성을보고 가벼운 세뇌교육을 받았다.
		CASE 3
			CSTR:LOCAL:47 = 타 프로덕션에서 스카웃 한 걸 걸 사기계약으로 뺏어 왔다.
		CASE 4
			CSTR:LOCAL:47 = 오자와가 강제 흡수한 영세 프로덕션 소속 이었다.
	ENDSELECT 
ENDIF
CSTR:LOCAL:48 = 프로듀서 배정이란 명목으로 당신에게 판매되었다.
;토고지 레이카 - 갑부집 딸
SIF LOCAL == 5931
	CSTR:LOCAL:49 = 나름 갑부인 집의 딸이라 잘만 길들이면 돈줄로 쓸수 있을 것 같다.
;사이온지 코토카 - 재벌 딸
SIF LOCAL == 5947
	CSTR:LOCAL:49 = 사이온지 재벌의 영애라 은폐작업이 힘들었다. 나중에 돈으로 바꿀수 없을까.

이벤트フラグ:95:8 += 1


TARGET = CHARANUM - 1

DRAWLINE
PRINTFORMW 《%NAME:TARGET%을 구입했다》 

;구입 시에 실시하는 초기 설정
;CALL CHARA_BUY_SETTING

GOTO INPUT_LOOP
;

;=================================================
;구입 가능한 노예 목록 표시
;=================================================
@CHARA_BUY_SHOW
;CALL MAIN_1st_DAYS

A:1 = TFLAG:995 / 10
A:2 = TFLAG:995 % 10

DRAWLINE
PRINTL 노예의 확보
PRINTFORM %"《확보 가능한 노예의 목록》", 92,LEFT%
PRINT 현재의 페이지:
PRINTV TFLAG:995 + 1
PRINTL

DRAWLINE
PRINT  
SIF A:2 == 0
	PRINT 아이돌 마스터ーOFA＋α
SIF A:2 == 1
	PRINT 신데렐라 걸즈 큐트／노멀
SIF A:2 == 2
	PRINT 신데렐라 걸즈 큐트／레어＋SR
SIF A:2 == 3
	PRINT 신데렐라 걸즈 쿨／노멀
SIF A:2 == 4
	PRINT 신데렐라 걸즈 쿨／레어＋SR
SIF A:2 == 5
	PRINT 신데렐라 걸즈 패션／노멀
SIF A:2 == 6
	PRINT 신데렐라 걸즈 패션／레어＋SR
SIF A:2 == 7
	PRINT 신데렐라 걸즈 그 외
SIF A:2 == 8
	PRINT 밀리언 라이브！
SIF A:2 == 9
	PRINT SideM
PRINTL
DRAWLINE

CALL PRINT_CHARA_LIST
;
;=================================================
;eramobam@sJ에서 이식
;=================================================
@PRINT_CHARA_LIST
VARSET LOCAL, 0
N = 1
FOR LOCAL, 5701, 6299
	;작품별 표시
	;OFA
	SIF A:2 == 0 && (LOCAL - 5700 > (40 + (111 * A:1)) || LOCAL - 5700 <= (0 + (111 * A:1)))
		CONTINUE
	;Cu/N
	SIF A:2 == 1 && (LOCAL - 5800 > (140 + (111 * A:1)) || LOCAL - 5800 <= (100 + (111 * A:1)))
		CONTINUE
	;Cu/R+SR
	SIF A:2 == 2 && (LOCAL - 5800 > (200 + (111 * A:1)) || LOCAL - 5800 < (141 + (111 * A:1)))
		CONTINUE
	;Co/N
	SIF A:2 == 3 && (LOCAL - 5800 > (240 + (111 * A:1)) || LOCAL - 5800 <= (200 + (111 * A:1)))
		CONTINUE
	;Cu/R+SR
	SIF A:2 == 4 && (LOCAL - 5800 > (300 + (111 * A:1)) || LOCAL - 5800 < (241 + (111 * A:1)))
		CONTINUE
	;Pa/N
	SIF A:2 == 5 && (LOCAL - 5800 > (340 + (111 * A:1)) || LOCAL - 5800 <= (300 + (111 * A:1)))
		CONTINUE
	;Pa/R+SR
	SIF A:2 == 6 && (LOCAL - 5800 > (390 + (111 * A:1)) || LOCAL - 5800 < (341 + (111 * A:1)))
		CONTINUE
	;ｼﾝﾃﾞﾚﾗ그외
	SIF A:2 == 7 && (LOCAL - 5800 > (400 + (111 * A:1)) || LOCAL - 5800 < (391 + (111 * A:1)))
		CONTINUE
	;ﾐﾘｵﾝ
	SIF A:2 == 8 && (LOCAL - 5800 > (450 + (111 * A:1)) || LOCAL - 5800 <= (400 + (111 * A:1)))
		CONTINUE
	;SideM
	SIF A:2 == 9 && (LOCAL - 5800 > (500 + (111 * A:1)) || LOCAL - 5800 <= (450 + (111 * A:1)))
		CONTINUE
	IF FLAG:(2300 + LOCAL)
		T = LOCAL
		RESULT = 0
		;구입 사망 소멸의 경우는 검정
		IF FLAG:(2300 + LOCAL) == -1
			SETCOLOR 0x444444
		;사망 소멸의 경우는 검붉은 색
		ELSEIF FLAG:(2300 + LOCAL) <= -2
			SETCOLOR 0x820000
		ELSE
		;구상이 있는 캐릭터는 강조 표시 있는 경우는 파랑
		TRYCALLFORM KOJO_EXIST_K{T}
			SIF RESULT == 1
				SETCOLOR 0x329E9C
		ENDIF
		EXISTCSV T,0
		IF RESULT == 1
			CSVNAME T, 0
			STR:N = %RESULTS%
		ENDIF
			PRINTFORM  [{T}] %STR:N,18,LEFT%
		;일렬 4항
		LOCAL:1 += 1
		SIF LOCAL:1 % 4 == 0
			PRINTL
		RESETCOLOR
	ENDIF
NEXT
SIF LOCAL:1 % 4 != 0
	PRINTL 
RETURN 1

;=================================================
;노예 구입 후 정기 아이템 복귀 처리
;=================================================
@CHARA_BUY_AFTER

;REPEAT 600
;	A = COUNT + TFLAG:995 * 30 + 5700
;	ITEMSALES:A = 0
;REND

;REPEAT 100
;	ITEMSALES:COUNT = 0
;REND

;REPEAT 100
;	ITEMSALES:COUNT = TFLAG:COUNT
;	TFLAG:COUNT = 0
;REND

RETURN 0
;
;=================================================
;[999] - 돌아간다ボタン
;=================================================
@BACK(ARG:999 = -1)
DRAWLINE
	PRINTFORM  [999] %"- 돌아간다",18,LEFT%
IF ARG:999 >= 0
	IF TFLAG:995 == 0
		PRINTFORM  　　　%"",18,LEFT%
	ELSE
		PRINTFORM  [901] %"- 전 페이지",18,LEFT%
	ENDIF
	IF TFLAG:995 == ARG:999
		PRINTFORM  　　　%"",18,LEFT%
	ELSE
		PRINTFORM  [909] %"- 다음 페이지",18,LEFT%
	ENDIF
ENDIF

;=================================================
;캐릭터 구입시의 프로필&해설을 CSV에서 읽기
;INFO_PERSONAL.ERB의 620행의 기술에서 처리
;=================================================
@CHARA_MANUAL
#DIM CHARNUM
CHARNUM = TFLAG:997
DRAWLINE
PRINT 노예 후보 
	CALL SHOW_CHARAINFO_SHOP(CHARNUM)

;=================================================
;구매 확인 화면
;=================================================
DRAWLINE
PRINT 오자와 : 
PRINT 이건가. 이 녀석이라면 
SETCOLOR 0xFFFFF
PRINTFORM {FLAG:D}
RESETCOLOR
PRINTL  마카로 넘겨주지.
PRINTL 어때?
PRINTL :::::::::::::::::::::::::::::::::::::::::::::::
PRINTL  [0] - 구입한다
PRINTL  [1] - 그만둔다

$INPUT_LOOP
INPUT

IF RESULT == 1
	TFLAG:997 = 0
ELSEIF RESULT != 0
	GOTO INPUT_LOOP
ENDIF

RETURN 0

;-------------------------------------------------
;キャラ가격の설정
;-------------------------------------------------
@CHARA_PRICE

;スタート時に登場するキャラの구입金額をFLAG10xx番代に記録。
;입력する数値はItem.csv内のキャラの가격と一致させること

#DIM DYNAMIC flagIndex
#DIM DYNAMIC itemIndex

FOR flagIndex, 8001, 8599
	itemIndex = flagIndex + 7700
	;DEBUGPRINTFORML %ITEMNAME:itemIndex%/Flag:{flagIndex}/Item:{itemIndex}/Price:{ITEMPRICE:itemIndex}
	SIF FLAG:flagIndex == 0
		FLAG:flagIndex = ITEMPRICE:itemIndex
NEXT

