;=======================================================================
;指定したマスに進入可能か
;=======================================================================
@taiyou_ENTER,ARG,ARG:1
;DA:ARG:(ARG:1)
;ARG、ARG:1はそれぞれ대상のマスのX、Y座標を表しています。
;この던전ではエレベーターの扉が一度右側から開けておかないと左側からは開けられない、という処理に사용しています。
SELECTCASE FLAG:現M
	CASE 3
		IF 던전フラグ:13:25 && 던전フラグ:13:2 < 6
			IF ARG:1 < 13 || ARG:1 > 25
				CALL MESSAGE_WINDOW_D, "", "＞彼女を探さなくては…"
				RETURN 0
			ENDIF
			
		ENDIF
ENDSELECT
RETURN 1
;=======================================================================
;太陽タイル
;=======================================================================
;이벤트タイル特殊표시4
@taiyou_TILE, ARG,ARG:1,ARG:2
SELECTCASE ARG / 10
	;서프
	CASE 5401
		SETCOLOR 0x00ff00
		RESULTS = サ
	CASEELSE
		RESULTS = ！
		SETCOLOR 0x00ff00
		RESULTS = ｍ
ENDSELECT

;이벤트タイル特殊표시9
@taiyou_TILE2, ARG,ARG:1,ARG:2
SELECTCASE ARG / 10
	CASE 8601
		RESULTS = ↓
	CASEELSE
		RESULTS = □
ENDSELECT

;=======================================================================
;太陽調べ이벤트(4)
;=======================================================================
@taiyou_event_sw
#LOCALSIZE 1
LOCAL = DA:(FLAG:現X):(FLAG:現Y) / 10
SELECTCASE LOCAL
	CASE 6400
		CALL MESSAGE_WINDOW_D, "マダム・マルゴの情報", "あらゆるものの情報は神からもたらされ/神に還る…/これが輪廻の秘密だったんですね… "
		CALL MESSAGE_WINDOW_D, "マダム・マルゴの情報", "どうやら私は　道を誤っていたようです… "
		CALL MESSAGE_WINDOW_D, "マダム・マルゴの情報", "神の怒りを鎮めて頂戴…/そして　命の行く先を皆に示して頂戴… "
	
	CASE 7000
		CALL MESSAGE_WINDOW_D, "リアル・알지라の情報", "仕方なかったのよ… "
		CALL MESSAGE_WINDOW_D, "リアル・알지라の情報", "彼が서프を殺そうとするから…/だから私… "
		CALL MESSAGE_WINDOW_D, "リアル・알지라の情報", "本当はあの娘の事も/気味が悪くて嫌いだった… "
		CALL MESSAGE_WINDOW_D, "リアル・알지라の情報", "でも　서프のために私…/ああ…私…なんてことを… "
	
	CASE 7400
		CALL MESSAGE_WINDOW_D, "陽気な二人組の情報A", "HO　me〜n♪ "
		CALL MESSAGE_WINDOW_D, "陽気な二人組の情報B", "ここで死んでりゃ/ノコノコ来ると思ったHO♪ "
		CALL MESSAGE_WINDOW_D, "陽気な二人組の情報A", "なぜならー "
		CALL MESSAGE_WINDOW_D, "陽気な二人組の情報B", "なぜカナー "
		CALL MESSAGE_WINDOW_D, "陽気な二人組の情報A", "なぜならー "
		CALL MESSAGE_WINDOW_D, "陽気な二人組の情報B", "なぜカナー "
		CALL MESSAGE_WINDOW_D, "陽気な二人組の情報A", "だって　ここはあの世だHO!　HI! "
		CALL MESSAGE_WINDOW_D, "陽気な二人組の情報B", "あのYOー "
		CALL MESSAGE_WINDOW_D, "陽気な二人組の情報A", "なにYOー "
		CALL MESSAGE_WINDOW_D, "陽気な二人組の情報B", "あのYOー "
		CALL MESSAGE_WINDOW_D, "陽気な二人組の情報A", "なにYOー "
		CALL MESSAGE_WINDOW_D, "陽気な二人組の情報B", "俺たち/いつまでここいいるんだHO?　HI! "
	
	
	
ENDSELECT


;=======================================================================
;太陽侵入이벤트(4)
;=======================================================================
@taiyou_event

;=======================================================================
;太陽侵入이벤트（9）
;=======================================================================
@taiyou_event2

IF BATTLE_SETTING_IS_BAD_STATUS() < 1
	CALL BATTLE_SETTING_SET_BAD_STATUS, 1
	LOCAL:1 = 1
ELSE
	LOCAL:1 = 0
ENDIF

SELECTCASE DA:(FLAG:現X):(FLAG:現Y) / 10
	CASE 6300
		CALL DUNGEON_WORP,64,3,9
	CASE 6400
		CALL DUNGEON_WORP,63,6,1
	CASE 6900
		IF 던전フラグ:13:29 < 1
			CALL MESSAGE_WINDOW_D, "", "扉の向こうから怪しい気配がする… "
			CALL INPUT_SELECT_D, "[0]向こうへ行く/[1]行かない "
			IF RESULT == 1
				CALL DUNGEON_WORP,(FLAG:現M),(FLAG:現X),(FLAG:現Y)+1
			ELSEIF RESULT == 0
				CALL DUNGEON_WORP,(FLAG:現M),(FLAG:現X),(FLAG:現Y)-2
			
				CALL MESSAGE_WINDOW_D, "서프・シェフィールドの情報", "ウソだ/僕はまだ死んでなどいない/ "
				CALL MESSAGE_WINDOW_D, "서프・シェフィールドの情報", "神の/神の힘を손に入れたんだぞ！？ "
				CALL MESSAGE_WINDOW_D, "서프・シェフィールドの情報", "僕は힘を손に入れる…/知識も！　힘もだぁぁぁぁぁぁぁぁ！ "
				CALL MESSAGE_WINDOW_D, "", "서프・シェフィールドの情報は악마に변신した！ "
					
				FLAG:도주불가フラグ = 1
				FLAG:회화불능フラグ = 1
				FLAG:선제기습취소 = 1
				
				CALL SET_ENEMY,9, 3803, 85, 0, 2
				CFLAG:(CHARANUM-1):行動횟수 = 3
				CFLAG:(CHARANUM-1):ＨＰ보정 += 4000
				CFLAG:(CHARANUM-1):ＭＰ보정 += 50000
				CFLAG:(CHARANUM-1):バステ무효フラグ = 1
				NAME:(CHARANUM-1) = リアル바루나
				CALLNAME:(CHARANUM-1) = リアル바루나
				CSTR:(CHARANUM-1):종족명 = 아수라
				CSTR:(CHARANUM-1):사고패턴 = ローカリアル바루나
		
				ABL:(CHARANUM-1):공격상성 = 0
				
				ABL:(CHARANUM-1):스킬1 = 1418
				ABL:(CHARANUM-1):스킬2 = 1439
				ABL:(CHARANUM-1):스킬3 = 2461
				ABL:(CHARANUM-1):스킬4 = 2447
				ABL:(CHARANUM-1):스킬5 = 2448
				ABL:(CHARANUM-1):스킬6 = 0
				ABL:(CHARANUM-1):스킬7 = 0
				ABL:(CHARANUM-1):스킬8 = 0
				ABL:(CHARANUM-1):스킬9 = 0
				ABL:(CHARANUM-1):스킬10 = 0
				ABL:(CHARANUM-1):스킬11 = 0
				
				BASE:(CHARANUM-1):검격 = 100
				BASE:(CHARANUM-1):타격 = 100
				BASE:(CHARANUM-1):비구 = 100
				BASE:(CHARANUM-1):전술 = 100
				BASE:(CHARANUM-1):화염 = 110
				BASE:(CHARANUM-1):빙결 = -200
				BASE:(CHARANUM-1):전격 = 100
				BASE:(CHARANUM-1):충격 = 100
				BASE:(CHARANUM-1):파마 = 110
				BASE:(CHARANUM-1):주살 = -200
				BASE:(CHARANUM-1):지변 = 100
				BASE:(CHARANUM-1):질풍 = 100
				BASE:(CHARANUM-1):수격 = -200
				BASE:(CHARANUM-1):중력 = 100
				BASE:(CHARANUM-1):핵열 = 110
				BASE:(CHARANUM-1):만능 = 100
				BASE:(CHARANUM-1):사이코 = 100
				
				BASE:(CHARANUM-1):힘 += 15
				BASE:(CHARANUM-1):마력 += 15
				BASE:(CHARANUM-1):지혜 += 15
				BASE:(CHARANUM-1):인내력 += 15
				BASE:(CHARANUM-1):속도 += 15
				BASE:(CHARANUM-1):운 += 15
				
				CALL SYNC_STATUS, (CHARANUM-1)
				CALL HEALTH_CHARA, (CHARANUM-1)
				
				CFLAG:(CHARANUM-1):공격보정 = MAXBASE:(CHARANUM-1):공격
				CFLAG:(CHARANUM-1):마법위력보정 = MAXBASE:(CHARANUM-1):마법위력
				
				CALL SYNC_STATUS, (CHARANUM-1)
				CALL HEALTH_CHARA, (CHARANUM-1)
				
				CALL BATTLE_START
			
				FLAG:도주불가フラグ = 0
				FLAG:회화불능フラグ = 0
				FLAG:선제기습취소 = 0
				FLAG:エンカウント率 = 0
				FLAG:未遭遇歩数 = 0
				
				던전フラグ:13:29 ++
				SIF GETBIT(FLAG:発見ED, 45)
					던전フラグ:13:31 ++
			ENDIF
		ENDIF
	CASE 6901
		SIF 던전フラグ:13:31 < 1
			던전フラグ:13:31 ++
	CASE 7300
		IF 던전フラグ:13:29 < 2
			CALL MESSAGE_WINDOW_D, "", "扉の向こうから怪しい気配がする… "
			CALL INPUT_SELECT_D, "[0]向こうへ行く/[1]行かない "
			IF RESULT == 1
				CALL DUNGEON_WORP,(FLAG:現M),(FLAG:現X),(FLAG:現Y)+1
			ELSEIF RESULT == 0
				CALL DUNGEON_WORP,(FLAG:現M),(FLAG:現X),(FLAG:現Y)-2
			
				CALL MESSAGE_WINDOW_D, "顔面星型タトゥー男の情報", "お前らも同類だろ…/何人も喰ってきたんだろ… "
				CALL MESSAGE_WINDOW_D, "顔面星型タトゥー男の情報", "生きるためだよ　何が悪いんだ…/「私も同じです」って言ってみろ… "
				CALL MESSAGE_WINDOW_D, "顔面星型タトゥー男の情報", "言ってみろぉぉぉぉぉぉぉぉぉぉぉぉ！ "
				CALL MESSAGE_WINDOW_D, "", "顔面星型タトゥー男の情報は악마に변신した！ "
					
				FLAG:도주불가フラグ = 1
				FLAG:회화불능フラグ = 1
				FLAG:선제기습취소 = 1
				
				CALL SET_ENEMY,9, 959, 88, 0, 2
				CFLAG:(CHARANUM-1):行動횟수 = 3
				CFLAG:(CHARANUM-1):ＨＰ보정 += 4000
				CFLAG:(CHARANUM-1):ＭＰ보정 += 50000
				CFLAG:(CHARANUM-1):バステ무효フラグ = 1
				CSTR:(CHARANUM-1):종족명 = 아수라
				CSTR:(CHARANUM-1):사고패턴 = ローカ카마조츠
				
				ABL:(CHARANUM-1):공격상성 = 3
				ABL:(CHARANUM-1):최저공격횟수 = 2
				ABL:(CHARANUM-1):최대공격횟수 = 8
				
				ABL:(CHARANUM-1):스킬1 = 1043
				ABL:(CHARANUM-1):스킬2 = 312
				ABL:(CHARANUM-1):스킬3 = 1725
				ABL:(CHARANUM-1):스킬4 = 2453
				ABL:(CHARANUM-1):스킬5 = 2457
				ABL:(CHARANUM-1):스킬6 = 2464
				ABL:(CHARANUM-1):스킬7 = 2527
				ABL:(CHARANUM-1):스킬8 = 2449
				ABL:(CHARANUM-1):스킬9 = 2448
				ABL:(CHARANUM-1):스킬10 = 2419
				ABL:(CHARANUM-1):스킬11 = 2447
				ABL:(CHARANUM-1):스킬12 = 2420
				
				BASE:(CHARANUM-1):검격 = 50
				BASE:(CHARANUM-1):비구 = 999
				BASE:(CHARANUM-1):타격 = 50
				BASE:(CHARANUM-1):전술 = 100
				BASE:(CHARANUM-1):화염 = 100
				BASE:(CHARANUM-1):빙결 = 100
				BASE:(CHARANUM-1):전격 = 120
				BASE:(CHARANUM-1):충격 = 0
				BASE:(CHARANUM-1):파마 = 120
				BASE:(CHARANUM-1):주살 = 100
				BASE:(CHARANUM-1):지변 = 0
				BASE:(CHARANUM-1):질풍 = 0
				BASE:(CHARANUM-1):수격 = 100
				BASE:(CHARANUM-1):중력 = 120
				BASE:(CHARANUM-1):핵열 = 100
				BASE:(CHARANUM-1):만능 = 100
				BASE:(CHARANUM-1):사이코 = 100
				
				BASE:(CHARANUM-1):힘 += 15
				BASE:(CHARANUM-1):마력 += 15
				BASE:(CHARANUM-1):지혜 += 15
				BASE:(CHARANUM-1):인내력 += 15
				BASE:(CHARANUM-1):속도 += 15
				BASE:(CHARANUM-1):운 += 15
				
				CFLAG:(CHARANUM-1):801 = -1
				CFLAG:(CHARANUM-1):803 = -1
				
				CFLAG:(CHARANUM-1):850 = 11+1+1+11
				CFLAG:(CHARANUM-1):851 = 100/2/2
				CFLAG:(CHARANUM-1):852 = 99/3/11
				CFLAG:(CHARANUM-1):853 = 20-2-2/2
				CFLAG:(CHARANUM-1):854 = 10+11+11
				
				CALL SYNC_STATUS, (CHARANUM-1)
				CALL HEALTH_CHARA, (CHARANUM-1)
			
				CALL BATTLE_START
			
				FLAG:도주불가フラグ = 0
				FLAG:회화불능フラグ = 0
				FLAG:선제기습취소 = 0
				FLAG:エンカウント率 = 0
				FLAG:未遭遇歩数 = 0
				
				던전フラグ:13:29 ++
				SIF GETBIT(FLAG:発見ED, 45)
					던전フラグ:13:31 ++
			ENDIF
		ENDIF
	CASE 7301
		SIF 던전フラグ:13:31 < 2
			던전フラグ:13:31 ++
	CASE 7700
		IF 던전フラグ:13:29 < 3
			CALL MESSAGE_WINDOW_D, "", "扉の向こうから怪しい気配がする… "
			CALL INPUT_SELECT_D, "[0]向こうへ行く/[1]行かない "
			IF RESULT == 1
				CALL DUNGEON_WORP,(FLAG:現M),(FLAG:現X),(FLAG:現Y)+1
			ELSEIF RESULT == 0
				CALL DUNGEON_WORP,(FLAG:現M),(FLAG:現X),(FLAG:現Y)-2
			
				CALL MESSAGE_WINDOW_D, "肥満体の黒人男の情報", "うれしいねぇ…/むざむざ喰われに来たかい… "
				CALL MESSAGE_WINDOW_D, "肥満体の黒人男の情報", "ぐははは〜のはぁぁぁぁぁぁぁぁ！ "
				CALL MESSAGE_WINDOW_D, "", "肥満体の黒人男の情報は악마に변신した！ "
					
				FLAG:도주불가フラグ = 1
				FLAG:회화불능フラグ = 1
				FLAG:선제기습취소 = 1
				
				CALL SET_ENEMY,9, [[キャラ:라후]], 92, 1, 1
				CFLAG:(CHARANUM-1):行動횟수 = 2
				;CFLAG:(CHARANUM-1):ＨＰ보정 += 2000
				CFLAG:(CHARANUM-1):ＭＰ보정 += 50000
				CFLAG:(CHARANUM-1):バステ무효フラグ = 1
				NAME:(CHARANUM-1) = 라후（体）
				CALLNAME:(CHARANUM-1) = 라후（体）
				CSTR:(CHARANUM-1):종족명 = 아수라
				CSTR:(CHARANUM-1):사고패턴 = ローカ라후（体）
				
				;공격4回、명계의문、끝나는세계、드래곤퀘이크（新技）、관통、千発、百発、간파、데스카운터、하이퍼카운터
				;AI側デカジャ、デクンダ、기합、파워브레스、다크브레스、랜더마이저
				;AIの랜덤행동を변경、드래곤헤드で捕まった相손を1체で狙わないように
				ABL:(CHARANUM-1):공격상성 = 3
				ABL:(CHARANUM-1):최저공격횟수 = 5
				ABL:(CHARANUM-1):최대공격횟수 = 5
				
				ABL:(CHARANUM-1):스킬1 = 1518
				ABL:(CHARANUM-1):스킬2 = 106
				ABL:(CHARANUM-1):스킬3 = 344
				ABL:(CHARANUM-1):스킬4 = 2067
				ABL:(CHARANUM-1):스킬5 = 2449
				ABL:(CHARANUM-1):스킬6 = 2448
				ABL:(CHARANUM-1):스킬7 = 2447
				ABL:(CHARANUM-1):스킬8 = 2453
				ABL:(CHARANUM-1):스킬9 = 2462
				ABL:(CHARANUM-1):스킬10 = 2425
				ABL:(CHARANUM-1):스킬11 = 2483
				ABL:(CHARANUM-1):스킬12 = 2483
				ABL:(CHARANUM-1):스킬13 = 2420
				
				BASE:(CHARANUM-1):검격 = 100
				BASE:(CHARANUM-1):타격 = 100
				BASE:(CHARANUM-1):비구 = 100
				BASE:(CHARANUM-1):전술 = 100
				BASE:(CHARANUM-1):화염 = 0
				BASE:(CHARANUM-1):빙결 = 0
				BASE:(CHARANUM-1):전격 = 100
				BASE:(CHARANUM-1):충격 = 100
				BASE:(CHARANUM-1):정신 = 100
				BASE:(CHARANUM-1):신경 = 100
				BASE:(CHARANUM-1):파마 = 120
				BASE:(CHARANUM-1):주살 = 120
				BASE:(CHARANUM-1):지변 = 0
				BASE:(CHARANUM-1):질풍 = 0
				BASE:(CHARANUM-1):수격 = 0
				BASE:(CHARANUM-1):중력 = 100
				BASE:(CHARANUM-1):핵열 = 120
				BASE:(CHARANUM-1):만능 = 100
				BASE:(CHARANUM-1):사이코 = 100
				
				BASE:(CHARANUM-1):힘 += 30
				;BASE:(CHARANUM-1):마력 += 10
				;BASE:(CHARANUM-1):지혜 += 10
				BASE:(CHARANUM-1):인내력 += 30
				BASE:(CHARANUM-1):속도 += 15
				BASE:(CHARANUM-1):운 += 15
				
				CALL SYNC_STATUS, (CHARANUM-1)
				CALL HEALTH_CHARA, (CHARANUM-1)
			
				CALL SET_ENEMY,14, [[キャラ:라후]], 92, 1, 1
				CFLAG:(CHARANUM-1):行動횟수 = 1
				;CFLAG:(CHARANUM-1):ＨＰ보정 += 2000
				CFLAG:(CHARANUM-1):ＭＰ보정 += 50000
				CFLAG:(CHARANUM-1):バステ무효フラグ = 1
				NAME:(CHARANUM-1) = 라후（머리）
				CALLNAME:(CHARANUM-1) = 라후（머리）
				CSTR:(CHARANUM-1):종족명 = 아수라
				CSTR:(CHARANUM-1):사고패턴 = ローカ라후（머리）
				;공격1回、전체魔法てんこ盛り、만능少し多い、해제（두부귀환、死んでも使える）
				;AI側컨센트레이트、퓨어블루（15%）、히트라이저
				;　드래곤헤드（RETURNできない아군を狙う、회복不能、HEAT상태、完全無적）、흡수（아군と自分行動時に発動、HEAT부여、HPMP10％흡수）
				ABL:(CHARANUM-1):공격상성 = 3
				ABL:(CHARANUM-1):최저공격횟수 = 1
				ABL:(CHARANUM-1):최대공격횟수 = 1
				
				ABL:(CHARANUM-1):스킬1 = 2003
				ABL:(CHARANUM-1):스킬2 = 2008
				ABL:(CHARANUM-1):스킬3 = 944
				ABL:(CHARANUM-1):스킬4 = 942
				ABL:(CHARANUM-1):스킬5 = 1509
				ABL:(CHARANUM-1):스킬6 = 711
				ABL:(CHARANUM-1):스킬7 = 1614
				ABL:(CHARANUM-1):스킬8 = 2003
				ABL:(CHARANUM-1):스킬9 = 2512
				ABL:(CHARANUM-1):스킬10 = 2510
				ABL:(CHARANUM-1):스킬11 = 2527
				ABL:(CHARANUM-1):스킬12 = 2447
				ABL:(CHARANUM-1):스킬13 = 2448
				
				BASE:(CHARANUM-1):검격 = 100
				BASE:(CHARANUM-1):타격 = 100
				BASE:(CHARANUM-1):비구 = 100
				BASE:(CHARANUM-1):전술 = 100
				BASE:(CHARANUM-1):화염 = 100
				BASE:(CHARANUM-1):빙결 = 120
				BASE:(CHARANUM-1):전격 = 0
				BASE:(CHARANUM-1):충격 = 0
				BASE:(CHARANUM-1):정신 = 120
				BASE:(CHARANUM-1):신경 = 120
				BASE:(CHARANUM-1):파마 = 100
				BASE:(CHARANUM-1):주살 = 100
				BASE:(CHARANUM-1):지변 = 0
				BASE:(CHARANUM-1):질풍 = 100
				BASE:(CHARANUM-1):수격 = 100
				BASE:(CHARANUM-1):중력 = 0
				BASE:(CHARANUM-1):핵열 = 0
				BASE:(CHARANUM-1):만능 = 100
				BASE:(CHARANUM-1):사이코 = 100
				
				;BASE:(CHARANUM-1):힘 += 30
				BASE:(CHARANUM-1):마력 += 30
				BASE:(CHARANUM-1):지혜 += 30
				;BASE:(CHARANUM-1):인내력 += 30
				BASE:(CHARANUM-1):속도 += 15
				BASE:(CHARANUM-1):운 += 15
				
				CALL SYNC_STATUS, (CHARANUM-1)
				CALL HEALTH_CHARA, (CHARANUM-1)
				
				CFLAG:(CHARANUM-1):804 = MAXBASE:(CHARANUM-1):ＨＰ * 15/100
				CFLAG:(CHARANUM-1):810 = MAXBASE:(CHARANUM-1):ＨＰ * 15/100
				
				CALL BATTLE_START
			
				FLAG:도주불가フラグ = 0
				FLAG:회화불능フラグ = 0
				FLAG:선제기습취소 = 0
				FLAG:エンカウント率 = 0
				FLAG:未遭遇歩数 = 0
				
				던전フラグ:13:29 ++
				SIF GETBIT(FLAG:発見ED, 45)
					던전フラグ:13:31 ++
			ENDIF
		ENDIF
	CASE 7701
		SIF 던전フラグ:13:31 < 3
			던전フラグ:13:31 ++
	CASE 8100
		IF 던전フラグ:13:29 < 4
			CALL MESSAGE_WINDOW_D, "", "扉の向こうから怪しい気配がする… "
			CALL INPUT_SELECT_D, "[0]向こうへ行く/[1]行かない "
			IF RESULT == 1
				CALL DUNGEON_WORP,(FLAG:現M),(FLAG:現X),(FLAG:現Y)+1
			ELSEIF RESULT == 0
				CALL DUNGEON_WORP,(FLAG:現M),(FLAG:現X),(FLAG:現Y)-2
			
				CALL MESSAGE_WINDOW_D, "ベック大佐？の情報", "私は大佐だ…　ベック大佐だ… "
				CALL MESSAGE_WINDOW_D, "ベック大佐？の情報", "もうこんな糞ったれな所はたくさんだ…/貴様らを八つ裂きにして… "
				CALL MESSAGE_WINDOW_D, "ベック大佐？の情報", "抜け出してやるっっっっっっっっっっ！ "
				CALL MESSAGE_WINDOW_D, "", "ベック大佐？の情報は악마に변신した！ "
					
				FLAG:도주불가フラグ = 1
				FLAG:회화불능フラグ = 1
				FLAG:선제기습취소 = 1
				
				CALL SET_ENEMY,9, 262, 95, 0, 1
				CFLAG:(CHARANUM-1):行動횟수 = 3
				CFLAG:(CHARANUM-1):ＨＰ보정 += 2000
				CFLAG:(CHARANUM-1):ＭＰ보정 += 50000
				CFLAG:(CHARANUM-1):バステ무효フラグ = 1
				CSTR:(CHARANUM-1):종족명 = 아수라
				CSTR:(CHARANUM-1):사고패턴 = ローカ라바나
				
				
				BASE:(CHARANUM-1):검격 = 100
				BASE:(CHARANUM-1):타격 = 100
				BASE:(CHARANUM-1):비구 = 100
				BASE:(CHARANUM-1):전술 = 100
				BASE:(CHARANUM-1):화염 = 100
				BASE:(CHARANUM-1):빙결 = 100
				BASE:(CHARANUM-1):전격 = 100
				BASE:(CHARANUM-1):충격 = 100
				BASE:(CHARANUM-1):정신 = 100
				BASE:(CHARANUM-1):신경 = 100
				BASE:(CHARANUM-1):파마 = 100
				BASE:(CHARANUM-1):주살 = 100
				BASE:(CHARANUM-1):지변 = 100
				BASE:(CHARANUM-1):질풍 = 100
				BASE:(CHARANUM-1):수격 = 100
				BASE:(CHARANUM-1):중력 = 100
				BASE:(CHARANUM-1):핵열 = 100
				BASE:(CHARANUM-1):만능 = 100
				BASE:(CHARANUM-1):사이코 = 100
				
				ABL:(CHARANUM-1):스킬1 = 249
				ABL:(CHARANUM-1):스킬2 = 207
				ABL:(CHARANUM-1):스킬3 = 209
				ABL:(CHARANUM-1):스킬4 = 2419
				ABL:(CHARANUM-1):스킬5 = 2421
				ABL:(CHARANUM-1):스킬6 = 2447
				ABL:(CHARANUM-1):스킬7 = 2448
				ABL:(CHARANUM-1):스킬8 = 2449
				ABL:(CHARANUM-1):스킬9 = 2427
				ABL:(CHARANUM-1):스킬10 = 2510
				ABL:(CHARANUM-1):스킬11 = 2483
				ABL:(CHARANUM-1):스킬12 = 2483
				
				BASE:(CHARANUM-1):힘 += 20
				BASE:(CHARANUM-1):마력 += 20
				BASE:(CHARANUM-1):지혜 += 20
				BASE:(CHARANUM-1):인내력 += 20
				BASE:(CHARANUM-1):속도 += 20
				BASE:(CHARANUM-1):운 += 20
				
				CFLAG:(CHARANUM-1):물리被데미지보정 = -90
				CFLAG:(CHARANUM-1):クリティカル무효フラグ = 1
				
				CALL SYNC_STATUS, (CHARANUM-1)
				CALL HEALTH_CHARA, (CHARANUM-1)
				
				CFLAG:(CHARANUM-1):공격보정 = MAXBASE:(CHARANUM-1):공격 / 3
				CFLAG:(CHARANUM-1):마법위력보정 = MAXBASE:(CHARANUM-1):마법위력 / 3
				
				CALL SYNC_STATUS, (CHARANUM-1)
				CALL HEALTH_CHARA, (CHARANUM-1)
			
				CALL BATTLE_START
			
				FLAG:도주불가フラグ = 0
				FLAG:회화불능フラグ = 0
				FLAG:선제기습취소 = 0
				FLAG:エンカウント率 = 0
				FLAG:未遭遇歩数 = 0
				
				던전フラグ:13:29 ++
				SIF GETBIT(FLAG:発見ED, 45)
					던전フラグ:13:31 ++
			ENDIF
		ENDIF
	CASE 8101
		SIF 던전フラグ:13:31 < 4
			던전フラグ:13:31 ++
	CASE 8600
		SIF 던전フラグ:13:31 < 5
			던전フラグ:13:31 ++
	CASE 8601
		IF 던전フラグ:13:29 < 5
			CALL MESSAGE_WINDOW_D, "", "遥か머리上から、計り知れないほど巨大な/情報のうねりを感じる "
			CALL MESSAGE_WINDOW_D, "", "情報の流れに身を任せますか？ "
			CALL INPUT_SELECT_D, "[0]はい/[1]いいえ "
			IF RESULT == 1
				CALL DUNGEON_WORP,(FLAG:現M),(FLAG:現X),(FLAG:現Y)-1
			ELSEIF RESULT == 0
				;CALL DUNGEON_WORP,(FLAG:現M),(FLAG:現X),(FLAG:現Y)+2
			
				CALL MESSAGE_WINDOW_D, "", "流れに身を任せていきついた先には/青く輝いている巨大な脳のようなものがあった "
				CALL MESSAGE_WINDOW_D, "세라", "これが  神… "
				CALL MESSAGE_WINDOW_D, "", "세라によれば　これが神らしい "
				CALL MESSAGE_WINDOW_D, "세라", "お願い　地球を元に戻して！ "
				CALL MESSAGE_WINDOW_D, "세라", "悪いのは　私なの "
				CALL MESSAGE_WINDOW_D, "세라", "人は　いっぱい過ちを犯すわ/これからも繰り返すかもしれない "
				CALL MESSAGE_WINDOW_D, "세라", "お願い！滅ぼさないで！ "
				CALL MESSAGE_WINDOW_D, "", "すると脳のようなものが開いて当たりの雰囲気が変わった "
				CALL MESSAGE_WINDOW_D, "", "そして　眩い光が出た後/巨大な塔のようなものが現れた "
				CALL MESSAGE_WINDOW_D, "세라", "え…？ "
				CALL MESSAGE_WINDOW_D, "세라", "自分と  戦えって？ "
				
				FLAG:도주불가フラグ = 1
				FLAG:회화불능フラグ = 1
				FLAG:선제기습취소 = 1
				
				CALL SET_ENEMY,9, 1513, 99, 0, 5
				CFLAG:(CHARANUM-1):行動횟수 = 5
				CFLAG:(CHARANUM-1):ＨＰ보정 += 2000
				CFLAG:(CHARANUM-1):ＭＰ보정 += 50000
				CFLAG:(CHARANUM-1):バステ무효フラグ = 1
				CSTR:(CHARANUM-1):사고패턴 = ローカ브라흐마
		
				ABL:(CHARANUM-1):공격상성 = 17
				ABL:(CHARANUM-1):최저공격횟수 = 5
				ABL:(CHARANUM-1):최대공격횟수 = 5
				
				;AI側に超有能지원、스마일차지
				;1段階　魔法+만능
				;2段階　+상태이상+스마일차지
				;3段階　+魔法2+이터널제로+自動マカブレ、シーブレ
				;4段階　+自動ガーキル
				ABL:(CHARANUM-1):스킬1 = 723
				ABL:(CHARANUM-1):스킬2 = 758
				ABL:(CHARANUM-1):스킬3 = 754
				ABL:(CHARANUM-1):스킬4 = 2008
				ABL:(CHARANUM-1):스킬5 = 2514;만능전체物理専用
				ABL:(CHARANUM-1):스킬6 = 723;상태이상
				ABL:(CHARANUM-1):스킬7 = 758;상태이상
				ABL:(CHARANUM-1):스킬8 = 754;상태이상
				ABL:(CHARANUM-1):스킬9 = 2454;ブースタ
				ABL:(CHARANUM-1):스킬10 = 2447
				ABL:(CHARANUM-1):스킬11 = 2448
				ABL:(CHARANUM-1):스킬12 = 2419
				ABL:(CHARANUM-1):스킬13 = 2427
				ABL:(CHARANUM-1):스킬14 = 2421
				ABL:(CHARANUM-1):스킬15 = 2422
				ABL:(CHARANUM-1):스킬16 = 2510
				
				CFLAG:(CHARANUM-1):801 = 0
				
				LOCAL = 820
				;화염弱
				CFLAG:(CHARANUM-1):(LOCAL ++) = 723
				CFLAG:(CHARANUM-1):(LOCAL ++) = 758
				CFLAG:(CHARANUM-1):(LOCAL ++) = 754
				;화염強
				CFLAG:(CHARANUM-1):(LOCAL ++) = 718
				CFLAG:(CHARANUM-1):(LOCAL ++) = 749
				CFLAG:(CHARANUM-1):(LOCAL ++) = 758
				
				;빙결弱
				CFLAG:(CHARANUM-1):(LOCAL ++) = 803
				CFLAG:(CHARANUM-1):(LOCAL ++) = 806
				CFLAG:(CHARANUM-1):(LOCAL ++) = 837
				;빙결強
				CFLAG:(CHARANUM-1):(LOCAL ++) = 811
				CFLAG:(CHARANUM-1):(LOCAL ++) = 823
				CFLAG:(CHARANUM-1):(LOCAL ++) = 825
				
				;전격弱
				CFLAG:(CHARANUM-1):(LOCAL ++) = 903
				CFLAG:(CHARANUM-1):(LOCAL ++) = 906
				CFLAG:(CHARANUM-1):(LOCAL ++) = 912
				;전격強
				CFLAG:(CHARANUM-1):(LOCAL ++) = 908
				CFLAG:(CHARANUM-1):(LOCAL ++) = 942
				CFLAG:(CHARANUM-1):(LOCAL ++) = 948
				
				;충격弱
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1003
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1006
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1020
				;충격強
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1016
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1043
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1022
				
				;지변弱
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1503
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1506
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1509
				;지변弱
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1516
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1515
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1509
				
				;수격弱
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1603
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1606
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1608
				;수격強
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1613
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1611
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1609
				
				;질풍弱
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1703
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1706
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1708
				;질풍強
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1714
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1722
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1725
				
				;중력弱
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1803
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1806
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1811
				;중력強
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1814
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1808
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1816
				
				;핵열弱
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1908
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1911
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1903
				;핵열強
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1914
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1913
				CFLAG:(CHARANUM-1):(LOCAL ++) = 1904
				
				BASE:(CHARANUM-1):검격 = 100
				BASE:(CHARANUM-1):타격 = 100
				BASE:(CHARANUM-1):비구 = 100
				BASE:(CHARANUM-1):전술 = 100
				BASE:(CHARANUM-1):화염 = -100
				BASE:(CHARANUM-1):빙결 = 110
				BASE:(CHARANUM-1):전격 = -100
				BASE:(CHARANUM-1):충격 = -100
				BASE:(CHARANUM-1):정신 = 0
				BASE:(CHARANUM-1):신경 = 0
				BASE:(CHARANUM-1):파마 = 0
				BASE:(CHARANUM-1):주살 = 0
				BASE:(CHARANUM-1):지변 = -100
				BASE:(CHARANUM-1):질풍 = -100
				BASE:(CHARANUM-1):수격 = -100
				BASE:(CHARANUM-1):중력 = -100
				BASE:(CHARANUM-1):핵열 = -100
				BASE:(CHARANUM-1):만능 = 100
				BASE:(CHARANUM-1):사이코 = 100
				
				FOR LOCAL, 320, 341
					TALENT:(CHARANUM-1):LOCAL = 1
				NEXT
				
				BASE:(CHARANUM-1):힘 += 30
				BASE:(CHARANUM-1):마력 += 30
				BASE:(CHARANUM-1):지혜 += 30
				BASE:(CHARANUM-1):인내력 += 30
				BASE:(CHARANUM-1):속도 += 30
				BASE:(CHARANUM-1):운 += 30
				
				CFLAG:(CHARANUM-1):물리被데미지보정 = -70
				CFLAG:(CHARANUM-1):마법被데미지보정 = -70
				CFLAG:(CHARANUM-1):クリティカル무효フラグ = 1
				
				CALL SYNC_STATUS, (CHARANUM-1)
				CALL HEALTH_CHARA, (CHARANUM-1)
				
				CFLAG:(CHARANUM-1):공격보정 = MAXBASE:(CHARANUM-1):공격 / 3
				CFLAG:(CHARANUM-1):마법위력보정 = MAXBASE:(CHARANUM-1):마법위력 / 3
				
				CALL SYNC_STATUS, (CHARANUM-1)
				CALL HEALTH_CHARA, (CHARANUM-1)
				
				CFLAG:(CHARANUM-1):810 = MAXBASE:(CHARANUM-1):ＨＰ * 5/100
				
			
				CALL BATTLE_START
			
				FLAG:도주불가フラグ = 0
				FLAG:회화불능フラグ = 0
				FLAG:선제기습취소 = 0
				FLAG:エンカウント率 = 0
				FLAG:未遭遇歩数 = 0
				
				던전フラグ:13:1 = 17
				CALL DUNGEON_WORP,0,14,18
				
				;話の都合上EDを再現できないのは残念
				CALL MESSAGE_WINDOW_D, "", "당신たちはいつの間にか/ローカパーラのアジトに戻っていた "
				CALL MESSAGE_WINDOW_D, "", "人々は大騒ぎしていた/どうやら太陽が元に戻っていたみたいだ "
				CALL MESSAGE_WINDOW_D, "", "フレッドとフレッドの仲間達がこちらに駆け寄ってきた "
				CALL MESSAGE_WINDOW_D, "フレッド", "서프！　게일！　それにみんな！/やったんだな！ "
				CALL MESSAGE_WINDOW_D, "フレッドの仲間の소년", "やっぱり　あんたらすげーぜ！ "
				CALL MESSAGE_WINDOW_D, "", "その後　ローカパーラやカルマシティの人々から/感謝や報酬など貰った "
				CALL MESSAGE_WINDOW_D, "", "そして　色々あって静まってきたころ/서프が話しかけてきた "
				CALL MESSAGE_WINDOW_D, "서프", "話がある/ちょっと　ついてきてくれないか？ "
				CALL MESSAGE_WINDOW_D, "", "ついていくとそこには　エンブリオンと로알드/異세계から来た페르소나구사자もいる "
				CALL MESSAGE_WINDOW_D, "", "ほかの인간はいない "
				CALL MESSAGE_WINDOW_D, "서프", "太陽は元に戻ったが/俺たちは악마だ　フレッド達のいる/平和な所にはいられないだろう "
				CALL MESSAGE_WINDOW_D, "서프", "きみは確か　戦いを主にしている/仕事をやっていると聞く "
				CALL MESSAGE_WINDOW_D, "서프", "だから　これから俺たちは/きみの손伝いをさせて欲しい/構わないか？ "
				CALL MESSAGE_WINDOW_D, "", "戦힘が増えることに関しては何も問題はない/だから　はいと答える "
				CALL MESSAGE_WINDOW_D, "서프", "ありがとう　エンブリオンは/これから君の傘下に入ろう "
				CALL MESSAGE_WINDOW_D, "フレッド", "行っちまうのか？/みんな… "
				CALL MESSAGE_WINDOW_D, "", "フレッドがいつの間にかいた/こっそりついてきたのだろうか "
				CALL MESSAGE_WINDOW_D, "", "게일はフレッドに近づいた "
				CALL MESSAGE_WINDOW_D, "게일", "一つ黙っていたことがある "
				CALL MESSAGE_WINDOW_D, "게일", "ジャンクヤードに転生した/お前の父を殺したのは… "
				CALL MESSAGE_WINDOW_D, "게일", "俺だ "
				CALL MESSAGE_WINDOW_D, "フレッド", "… "
				CALL MESSAGE_WINDOW_D, "フレッド", "로알드から聞いたよ… "
				CALL MESSAGE_WINDOW_D, "フレッド", "でも　恨んでなんかないぜ "
				CALL MESSAGE_WINDOW_D, "フレッド", "皆は　大事なことを教えてくれた "
				CALL MESSAGE_WINDOW_D, "フレッド", "オレたち　ずっと仲間だよな？ "
				CALL MESSAGE_WINDOW_D, "게일", "ああ　仲間だ "
				CALL MESSAGE_WINDOW_D, "로알드", "そんな顔をするなフレッド/ここからは離れるが　ローカパーラや仲間たちの事を/忘れたりはしないさ "
				CALL MESSAGE_WINDOW_D, "시에로", "そうだぜ/気が向いたら　遊びに来てやるからさ "
				CALL MESSAGE_WINDOW_D, "", "フレッドは少し笑顔になる "
				CALL MESSAGE_WINDOW_D, "フレッド", "로알드　呑んだくれて/迷惑かけるんじゃねーぞ！ "
				CALL MESSAGE_WINDOW_D, "로알드", "ああ　注意するよ "
				CALL MESSAGE_WINDOW_D, "", "게일は握손を求め손を出す/フレッドは게일の손を握り握손をした "
				CALL MESSAGE_WINDOW_D, "시에로", "じゃあな　ブラザー "
				CALL MESSAGE_WINDOW_D, "", "당신たちはローカパーラを後にする "
				CALL MESSAGE_WINDOW_D, "", "ローカパーラやカルマシティの人々も争う理由がない/平和な場所になった "
				CALL MESSAGE_WINDOW_D, "", "太陽が元に戻ったことで　人々に希望が戻った "
				CALL MESSAGE_WINDOW_D, "", "それはひと時のことかもしれないが/平和になり　楽園になったことは確かだろう "
				CALL MESSAGE_WINDOW_D, "", "そう　楽園（열반）に… "
				CALL MESSAGE_WINDOW_D, "", "―― Ending No.045 (DIGITAL DEVIL SAGA アバタールチューナー２　”shan-ti shan-ti..”) "
				
				
				
				
				
				CALL MESSAGE_WINDOW_D, "", @"￥500000が支払われ、名声300を得た"
				MONEY += 500000
				FLAG:名声 += 300
				FLAG:5 = 9
				
				SETBIT FLAG:취소된ED,45
				SETBIT FLAG:発見ED,45
				
				던전フラグ:13:29 ++
			ENDIF
		ENDIF
	CASE 311
		IF 던전フラグ:13:24 < 2
			CALL MESSAGE_WINDOW_D, "", "扉の向こうから気配がする "
			CALL INPUT_SELECT_D, "[0]向こうへ行く/[1]行かない "
			IF RESULT == 1
				CALL DUNGEON_WORP,3,(FLAG:現X),(FLAG:現Y)+1
			ELSEIF RESULT == 0
				CALL DUNGEON_WORP,3,(FLAG:現X),(FLAG:現Y)-2
				
				CALL MESSAGE_WINDOW_D, "カルマ兵", "この集団には勝てまい！/大人しく　捕まれ！ "
				
					
				FLAG:도주불가フラグ = 1
				FLAG:회화불능フラグ = 1
				FLAG:선제기습취소 = 1
				CALL SET_ENEMY,7,[[キャラ:스세리비메]],18,0,0
				CALL SYNC_STATUS,(CHARANUM-1)
				CALL HEALTH_CHARA,(CHARANUM-1)
			
				CALL BATTLE_START
			
				FLAG:도주불가フラグ = 0
				FLAG:회화불능フラグ = 0
				FLAG:선제기습취소 = 0
				FLAG:エンカウント率 = 0
				FLAG:未遭遇歩数 = 0
			
				던전フラグ:13:24 = 2
			ENDIF
		ENDIF
ENDSELECT

SIF LOCAL:1 == 1
	CALL BATTLE_SETTING_SET_BAD_STATUS, 0
	


;=======================================================================
;太陽宝箱
;=======================================================================
@taiyou_takara
#LOCALSIZE 3
;宝箱のフラグ管理用変数の番号
LOCAL = FLAG:現M / 5 + 80
;そのマップの何番눈の宝箱か
LOCAL:1 = (DA:(FLAG:現X):(FLAG:現Y) / 10) % 100
LOCAL:1 += FLAG:現M % 5 * 10

SELECTCASE DA:(FLAG:現X):(FLAG:現Y) / 10
	CASE 6500
		CALL GET_TREASURE, 1047 , 1 , FLAG:現던전, LOCAL , LOCAL:1
	CASE 6600
		CALL GET_TREASURE, 1029 , 1 , FLAG:現던전, LOCAL , LOCAL:1
	CASE 6601
		CALL GET_TREASURE, 1028 , 2 , FLAG:現던전, LOCAL , LOCAL:1
	CASE 6700
		CALL GET_TREASURE, 1009 , 2 , FLAG:現던전, LOCAL , LOCAL:1
	CASE 6701
		CALL GET_TREASURE, 1039 , 1 , FLAG:現던전, LOCAL , LOCAL:1
	CASE 6900
		CALL GET_TREASURE, 1012 , 2 , FLAG:現던전, LOCAL , LOCAL:1
	CASE 7000
		CALL GET_TREASURE, 1008 , 3 , FLAG:現던전, LOCAL , LOCAL:1
	CASE 7300
		CALL GET_TREASURE, 1014 , 2 , FLAG:現던전, LOCAL , LOCAL:1
	CASE 7500
		CALL GET_TREASURE, 11440 , 2 , FLAG:現던전, LOCAL , LOCAL:1
	CASE 7501
		CALL GET_TREASURE, 1035 , 2 , FLAG:現던전, LOCAL , LOCAL:1
	CASE 7502
		CALL GET_TREASURE, 1036 , 2 , FLAG:現던전, LOCAL , LOCAL:1
	CASE 7600
		CALL GET_TREASURE, 2119 , 1 , FLAG:現던전, LOCAL , LOCAL:1
	CASE 7601
		CALL GET_TREASURE, 1024 , 2 , FLAG:現던전, LOCAL , LOCAL:1
	CASE 7602
		CALL GET_TREASURE, 11510 , 1 , FLAG:現던전, LOCAL , LOCAL:1
	CASE 7700
		CALL GET_TREASURE, 1011 , 2 , FLAG:現던전, LOCAL , LOCAL:1
	CASE 7900
		CALL GET_TREASURE, 1022 , 5 , FLAG:現던전, LOCAL , LOCAL:1
	CASE 7901
		CALL GET_TREASURE, 1004 , 5 , FLAG:現던전, LOCAL , LOCAL:1
	CASE 8100
		CALL GET_TREASURE, 1013 , 2 , FLAG:現던전, LOCAL , LOCAL:1
	CASE 8300
		CALL GET_TREASURE, 1010 , 2 , FLAG:現던전, LOCAL , LOCAL:1
	CASE 8600
		CALL GET_TREASURE, 1015 , 2 , FLAG:現던전, LOCAL , LOCAL:1
		
ENDSELECT
RETURN 1
;=======================================================================
;太陽적
;=======================================================================
@taiyou_enemy, ARG
		IF ARG == 0
			IF FLAG:現M > 81
				SIF RAND:18 == 0		
					RETURN [[キャラ:아마츠미카보시]]
				SIF RAND:17 == 0		
					RETURN [[キャラ:비파법사]]
				SIF RAND:16 == 0		
					RETURN [[キャラ:기리메카라]]
				SIF RAND:15 == 0		
					RETURN [[キャラ:가루다]]
				SIF RAND:14 == 0		
					RETURN [[キャラ:흐레스벨그]]
				SIF RAND:13 == 0		
					RETURN [[キャラ:아낫]]
				SIF RAND:12 == 0		
					RETURN [[キャラ:촉음]]
				SIF RAND:11 == 0		
					RETURN [[キャラ:다이다라봇치]]
				SIF RAND:10 == 0		
					RETURN [[キャラ:세라프]]
				SIF RAND:9 == 0		
					RETURN [[キャラ:쿠단]]
				SIF RAND:8 == 0		
					RETURN [[キャラ:락슈미]]
				SIF RAND:7 == 0		
					RETURN [[キャラ:헤카톤케이르]]
				SIF RAND:6 == 0		
					RETURN [[キャラ:마야(야마)]]
				SIF RAND:5 == 0		
					RETURN [[キャラ:사투르누스]]
			ENDIF
			IF FLAG:現M > 77
				SIF RAND:4 == 0		
					RETURN [[キャラ:미트라스]]
				SIF RAND:3 == 0		
					RETURN [[キャラ:슈우]]
				SIF RAND:2 == 0		
					RETURN [[キャラ:바알]]
				
					RETURN [[キャラ:가이아]]
			ELSEIF FLAG:現M > 73
				SIF RAND:5 == 0		
					RETURN [[キャラ:사투르누스]]
				SIF RAND:4 == 0		
					RETURN [[キャラ:아마츠미카보시]]
				SIF RAND:3 == 0		
					RETURN [[キャラ:비파법사]]
				SIF RAND:2 == 0		
					RETURN [[キャラ:기리메카라]]
				SIF RAND:1 == 0		
					RETURN [[キャラ:가루다]]
			ELSEIF FLAG:現M > 69
				SIF RAND:5 == 0		
					RETURN [[キャラ:흐레스벨그]]
				SIF RAND:4 == 0		
					RETURN [[キャラ:아낫]]
				SIF RAND:3 == 0		
					RETURN [[キャラ:촉음]]
				SIF RAND:2 == 0		
					RETURN [[キャラ:다이다라봇치]]
					
					RETURN [[キャラ:세라프]]
			ELSE
				SIF RAND:4 == 0		
					RETURN [[キャラ:쿠단]]
				SIF RAND:3 == 0		
					RETURN [[キャラ:락슈미]]
				SIF RAND:2 == 0		
					RETURN [[キャラ:헤카톤케이르]]
					
					RETURN [[キャラ:마야(야마)]]
			ENDIF
		ELSEIF ARG == 1
			SIF FLAG:現M > 81
				RETURN 93 + RAND:3
			SIF FLAG:現M > 77
				RETURN 89 + RAND:4
			SIF FLAG:現M > 73
				RETURN 85 + RAND:4
			SIF FLAG:現M > 69
				RETURN 82 + RAND:3
				
				RETURN 79 + RAND:3
		ENDIF

@EVENT_BATTLE_taiyou
IF FINDCHARA_ENEMY([[キャラ:기리메카라]]) == 1 && CFLAG:(RESULT:1):ボスフラグ < 1 && 現HP割合(RESULT:1) <= 20 && CFLAG:(RESULT:1):도주フラグ < 1
	LOCAL = RESULT:1
	LOCAL:1 = CPOS(LOCAL)
	LOCAL:3 = 0
	FOR LOCAL:2,0,10
		LOCALS = 포지션{LOCAL:2+7}
		SIF FLAG:LOCALS < 0
			CONTINUE
		LOCAL:3 ++
		LOCAL:4 = LOCAL:2+7
	NEXT
	IF LOCAL:3 == 1
		SETCOLOR 0xff0033
		CALL MESSAGE_B2("기리메카라",, "おお…　お　俺もお前らもお終いだ…")
		CALL MESSAGE_B2("기리메카라",, "聞こえねえのか…　軍曹の발音がっ!!")
		PRINTFORML ┏>CHARA━━━━━━━━━━┓　┏>ACT━━━━━━━━━━━━━━━━━━┓
		PRINTFORM ┃[{LOCAL:1,2}] %CALLNAME:(LOCAL),21,LEFT%┃　┃
		CALLFORM SKILL_NAME_2307,LOCAL
		PRINTFORML %RESULTS,40,LEFT%┃
		PRINTFORMW ┗━━━━━━━━━━━━━┛　┗━━━━━━━━━━━━━━━━━━━━┛
		RESETCOLOR
		CALLFORM ACTION_2307,LOCAL
		CALL REMOVE_POSITION, LOCAL:1
		PRINTFORML 적の増援だ！
		PRINTFORMW 巨大な기리메카라が現れた！
		
				CALL SET_ENEMY,9, [[キャラ:기리메카라]], 97, 0, 1
				CFLAG:(CHARANUM-1):行動횟수 = 2
				;CFLAG:(CHARANUM-1):ＨＰ보정 += 2000
				CFLAG:(CHARANUM-1):ＭＰ보정 += 50000
				CFLAG:(CHARANUM-1):バステ무효フラグ = 1
				ABL:(CHARANUM-1):공격상성 = 17
				CSTR:(CHARANUM-1):종족명 = 軍曹
		
				ABL:(CHARANUM-1):회화타입 = 331
				
				ABL:(CHARANUM-1):스킬1 = 523
				ABL:(CHARANUM-1):스킬2 = 2008
				ABL:(CHARANUM-1):스킬3 = 2045
				ABL:(CHARANUM-1):스킬4 = 2064
				ABL:(CHARANUM-1):스킬5 = 2067
				ABL:(CHARANUM-1):스킬6 = 576
				ABL:(CHARANUM-1):스킬7 = 2448
				ABL:(CHARANUM-1):스킬8 = 2510
				ABL:(CHARANUM-1):스킬9 = 2419
				ABL:(CHARANUM-1):스킬10 = 2447
				ABL:(CHARANUM-1):스킬11 = 2483
				ABL:(CHARANUM-1):스킬12 = 2483
				
				BASE:(CHARANUM-1):화염 = 100
				BASE:(CHARANUM-1):빙결 = 100
				BASE:(CHARANUM-1):전격 = 100
				BASE:(CHARANUM-1):충격 = 100
				BASE:(CHARANUM-1):파마 = 100
				BASE:(CHARANUM-1):주살 = 100
				BASE:(CHARANUM-1):지변 = 100
				BASE:(CHARANUM-1):질풍 = 100
				BASE:(CHARANUM-1):수격 = 100
				BASE:(CHARANUM-1):중력 = 100
				BASE:(CHARANUM-1):핵열 = 100
				BASE:(CHARANUM-1):만능 = 100
				BASE:(CHARANUM-1):사이코 = 100
				
				ABL:(CHARANUM-1):아이템2 = 1419;태그링
				ABL:(CHARANUM-1):입수확률2 = 10
				ABL:(CHARANUM-1):아이템3 = 1025
				ABL:(CHARANUM-1):입수확률3 = 25
				
				SIF 던전フラグ:13:8 == 1
					CFLAG:(CHARANUM-1):ＥＸＰ보정 += COEFFICIENT_EXP(ABL:(CHARANUM-1):종족)/2
				
				CALL SYNC_STATUS, (CHARANUM-1)
				CALL HEALTH_CHARA, (CHARANUM-1)
				
		SETCOLOR 0xff0033
		CALL MESSAGE_B2("軍曹기리메카라",, "俺の使命は！　役立たずを喰うことだ!!")
		CALL MESSAGE_B2("軍曹기리메카라",, "狩ったり喰ったり　出来なくしてやる!!")
		CALL MESSAGE_B2("軍曹기리메카라",, "わかったか　クソ虫ども!!")
		RESETCOLOR
				
	ENDIF
ELSEIF FINDCHARA_ENEMY(3803) && CFLAG:(RESULT:1):ボスフラグ > 0
	LOCAL= RESULT:1
	LOCAL:1 = CPOS(LOCAL)
	IF CFLAG:LOCAL:800 < 3 && 現HP割合(LOCAL) <= 25
		CALL MESSAGE_WINDOW, "リアル바루나", "嫌だ…嫌だ嫌だ嫌だ嫌だ嫌だ嫌だ嫌だ！ / / "
		CALL MESSAGE_WINDOW, "リアル바루나", "僕はまだ… / / "
		
		CFLAG:LOCAL:行動횟수 = 6
		CFLAG:LOCAL:800 = 3
	ELSEIF CFLAG:LOCAL:800 < 2 && 現HP割合(LOCAL) <= 50
		CALL MESSAGE_WINDOW, "リアル바루나", "僕は死んでなどいない！ / / "
		CALL MESSAGE_WINDOW, "リアル바루나", "死ぬはずが無いんだ！ / / "
		
		CFLAG:LOCAL:行動횟수 = 5
		CFLAG:LOCAL:800 = 2
	ELSEIF CFLAG:LOCAL:800 < 1 && 現HP割合(LOCAL) <= 75
		CALL MESSAGE_WINDOW, "リアル바루나", "僕は何ものにも屈しないぞぉぉぉ！ / / "
		
		CFLAG:LOCAL:行動횟수 = 4
		CFLAG:LOCAL:800 = 1
	ENDIF
	
ELSEIF FINDCHARA_ENEMY([[キャラ:카마조츠]]) && CFLAG:(RESULT:1):ボスフラグ > 0
	LOCAL= RESULT:1
	LOCAL:1 = CPOS(LOCAL)
	IF CFLAG:LOCAL:802 == 1
		CALL MESSAGE_WINDOW, "카마조츠", "何だ今のは…/지나나　だと…？/ "
		CALL MESSAGE_WINDOW, "카마조츠", "あんたが　あんたが悪いんだ…/俺よりそんな奴らを信じるから…！/ "
		CALL MESSAGE_WINDOW, "카마조츠", "俺とそいつらの何が違う！？/俺が負けたからか　지나나!!/ "
		CFLAG:LOCAL:802 = 2
	ENDIF
	SIF CFLAG:LOCAL:801 < 0 && 現HP割合(LOCAL) <= 75
		CFLAG:LOCAL:801 = FLAG:経過ターン数
	SIF CFLAG:LOCAL:803 < 0 && 現HP割合(LOCAL) <= 50
		CFLAG:LOCAL:803 = FLAG:経過ターン数
		
	IF CFLAG:LOCAL:800 < 5 && 現HP割合(LOCAL) <= 25
		CALL MESSAGE_WINDOW, "카마조츠", "俺とお前らの…何が…違う……/ / "
		CFLAG:LOCAL:行動횟수 ++
		CFLAG:LOCAL:800 = 5
	ELSEIF CFLAG:LOCAL:800 < 4 && 現HP割合(LOCAL) <= 50
		CALL MESSAGE_WINDOW, "카마조츠", "クックック…　遠慮すんなよ/俺とお前らは同じだろうが / "
		CFLAG:LOCAL:800 = 4
	ELSEIF CFLAG:LOCAL:800 == 2
		CALL MESSAGE_WINDOW, "카마조츠", "バラバラになっちまいな！ / / "
		CFLAG:LOCAL:800 = 3
	ELSEIF CFLAG:LOCAL:800 < 2 && 現HP割合(LOCAL) <= 75
		CALL MESSAGE_WINDOW, "카마조츠", "芸がないんだよ　バカどもが！ / / "
		CALL MESSAGE_WINDOW, "카마조츠", "みんな　カワイクしてやるぜぇ / / "
		CFLAG:LOCAL:800 = 2
	ELSEIF CFLAG:LOCAL:800 < 1
		CFLAG:LOCAL:800 = 1
	ENDIF
	IF CFLAG:LOCAL:803 % 3 == FLAG:経過ターン数 % 3 && CFLAG:LOCAL:800 > 3
			SETCOLOR 0xff0033
			PRINTFORML ┏>CHARA━━━━━━━━━━┓　┏>ACT━━━━━━━━━━━━━━━━━━┓
			PRINTFORML ┃[ 9] 카마조츠           ┃　┃방어　　　　　　　　　　　　　　　　　　┃
			PRINTFORMW ┗━━━━━━━━━━━━━┛　┗━━━━━━━━━━━━━━━━━━━━┛
			RESETCOLOR
		FOR LOCAL:1, 40, 57
			IF MAXBASE:LOCAL:(LOCAL:1) > 100 && MAXBASE:LOCAL:(LOCAL:1) != 999
				BASE:LOCAL:(LOCAL:1) = 100
				MAXBASE:LOCAL:(LOCAL:1) = 100
			ENDIF
		NEXT
		CFLAG:LOCAL:물리被데미지보정 = -90
		CFLAG:LOCAL:마법被데미지보정 = -90
		CFLAG:LOCAL:クリティカル무효フラグ = 1
		BASE:LOCAL:(CFLAG:LOCAL:851 + CFLAG:LOCAL:850 + CFLAG:LOCAL:852) = 2000
		MAXBASE:LOCAL:(CFLAG:LOCAL:850 * 2 + 4) = 2000
		CFLAG:LOCAL:1291 = 1
		;CFLAG:LOCAL:アナライズ不可 = 1
		PRINTW ＞地面に발を置き全身を날개でガードした
	ELSEIF (CFLAG:LOCAL:803 + 2) % 3 == (FLAG:経過ターン数) % 3 && BASE:LOCAL:파마 == 100
			SETCOLOR 0xff0033
			PRINTFORML ┏>CHARA━━━━━━━━━━┓　┏>ACT━━━━━━━━━━━━━━━━━━┓
			PRINTFORML ┃[ 9] 카마조츠           ┃　┃방어해제　　　　　　　　　　　　　　　　┃
			PRINTFORMW ┗━━━━━━━━━━━━━┛　┗━━━━━━━━━━━━━━━━━━━━┛
			RESETCOLOR
				MAXBASE:LOCAL:검격 = 50
				MAXBASE:LOCAL:비구 = 999
				MAXBASE:LOCAL:타격 = 50
				MAXBASE:LOCAL:전술 = 100
				MAXBASE:LOCAL:화염 = 100
				MAXBASE:LOCAL:빙결 = 100
				MAXBASE:LOCAL:전격 = 120
				MAXBASE:LOCAL:충격 = 0
				MAXBASE:LOCAL:파마 = 120
				MAXBASE:LOCAL:주살 = 100
				MAXBASE:LOCAL:지변 = 0
				MAXBASE:LOCAL:질풍 = 0
				MAXBASE:LOCAL:수격 = 100
				MAXBASE:LOCAL:중력 = 120
				MAXBASE:LOCAL:핵열 = 100
				MAXBASE:LOCAL:만능 = 100
				MAXBASE:LOCAL:사이코 = 100
				BASE:LOCAL:검격 = 50
				BASE:LOCAL:타격 = 999
				BASE:LOCAL:비구 = 50
				BASE:LOCAL:전술 = 100
				BASE:LOCAL:화염 = 100
				BASE:LOCAL:빙결 = 100
				BASE:LOCAL:전격 = 120
				BASE:LOCAL:충격 = 0
				BASE:LOCAL:파마 = 120
				BASE:LOCAL:주살 = 100
				BASE:LOCAL:지변 = 0
				BASE:LOCAL:질풍 = 0
				BASE:LOCAL:수격 = 100
				BASE:LOCAL:중력 = 120
				BASE:LOCAL:핵열 = 100
				BASE:LOCAL:만능 = 100
				BASE:LOCAL:사이코 = 100
				CFLAG:LOCAL:물리被데미지보정 = 0
				CFLAG:LOCAL:마법被데미지보정 = 0
		CFLAG:LOCAL:クリティカル무효フラグ = 0
				
				CFLAG:LOCAL:1291 = 0
				;CFLAG:LOCAL:アナライズ不可 = 0
				PRINTW ＞카마조츠は방어を解いた
	ENDIF
ELSEIF FINDCHARA_ENEMY([[キャラ:라후]]) && CFLAG:(RESULT:1):ボスフラグ > 0
	LOCAL= RESULT:1
	;LOCAL:1 = CPOS(LOCAL)
	LOCAL:2= RESULT:1 + 1
	;LOCAL:3 = CPOS(LOCAL:2)
	LOCAL:5 = 0
	FOR LOCAL:4,0,10
		LOCALS = 포지션{LOCAL:4+7}
		SIF FLAG:LOCALS < 0
			CONTINUE
		SIF BASE:(FLAG:LOCALS):ＨＰ < 1
			CONTINUE
		LOCAL:5 ++
	NEXT
	IF CFLAG:LOCAL:800 < 2 && LOCAL:5 < 2
		IF NAME:LOCAL == "라후（体）"
			CALL MESSAGE_WINDOW, "라후（体）", "ウガ…　ググググ… / / "
			CALL MESSAGE_WINDOW, "라후（体）", "あ　머리があああああ… / / "
		ELSE
			CALL MESSAGE_WINDOW, "라후（머리）", "グヌゥ　か　身体が… / / "
		ENDIF
		;CFLAG:(LOCAL:2):800 = 2
		CFLAG:LOCAL:800 = 2
	ELSEIF CFLAG:LOCAL:800 < 1
		CALL MESSAGE_WINDOW, "라후", "ぐふふ/뼈の髄まで吸い尽くしてやるわ〜！！ "
		CFLAG:(LOCAL:2):800 = 1
		CFLAG:LOCAL:800 = 1
	ENDIF
ELSEIF FINDCHARA_ENEMY([[キャラ:라바나]]) && CFLAG:(RESULT:1):ボスフラグ > 0
	LOCAL= RESULT:1
	LOCAL:1 = CPOS(LOCAL)
	
	IF CFLAG:LOCAL:800 < 3 && 現HP割合(LOCAL) <= 25
		CALL MESSAGE_WINDOW, "라바나", "また…死ぬというのか…!? / / "
		CALL MESSAGE_WINDOW, "라바나", "一体何度…こんな奴等のために… / / "
		
		CFLAG:LOCAL:行動횟수 = 6
		CFLAG:LOCAL:800 = 3
	ELSEIF CFLAG:LOCAL:800 < 2 && 現HP割合(LOCAL) <= 50
		CALL MESSAGE_WINDOW, "라바나", "私は滅びぬ！　私は消えぬ！/私が…私が大佐であるゆえにッ！！ / / "
		
		CFLAG:LOCAL:行動횟수 = 5
		CFLAG:LOCAL:800 = 2
	ELSEIF CFLAG:LOCAL:800 < 1 && 現HP割合(LOCAL) <= 75
		CALL MESSAGE_WINDOW, "라바나", "この身体に物理공격は効かん！ / / "
		CALL MESSAGE_WINDOW, "라바나", "私は大佐だ！/知略！　정신！　肉体！ / "
		CALL MESSAGE_WINDOW, "라바나", "AI風情に及ばぬはずがない / / "
		
		CFLAG:LOCAL:行動횟수 = 4
		CFLAG:LOCAL:800 = 1
	ENDIF
ELSEIF FINDCHARA_ENEMY(1513) && CFLAG:(RESULT:1):ボスフラグ > 0
	LOCAL= RESULT:1
	LOCAL:1 = CPOS(LOCAL)
	
	SIF CFLAG:LOCAL:800 < 1 && 現HP割合(LOCAL) <= 75
		CFLAG:LOCAL:800 = 1
	IF CFLAG:LOCAL:800 < 2 && 現HP割合(LOCAL) <= 50
		CFLAG:LOCAL:800 = 2
		CFLAG:LOCAL:802 = FLAG:経過ターン数
	ENDIF
	IF CFLAG:LOCAL:800 < 3 && 現HP割合(LOCAL) <= 25
		CFLAG:LOCAL:800 = 3
		ABL:LOCAL:스킬4 = 2048
	ENDIF
	$LP_B
	
	LOCAL:2 = RAND:9
	LOCAL:3 = LOCAL:2
	SIF LOCAL:3 > 3
		LOCAL:3 += 4
	CFLAG:LOCAL:801 = LOCAL:3
	
	IF LOCAL:3 < 4 && LOCAL:3 % 2
		LOCAL:4 = LOCAL:3 - 1
	ELSEIF LOCAL:3 < 4
		LOCAL:4 = LOCAL:3 + 1
	ELSEIF LOCAL:3 == 8
		LOCAL:4 = 10
	ELSEIF LOCAL:3 == 10
		LOCAL:4 = 8
	ELSEIF LOCAL:3 == 9
		LOCAL:4 = 11
	ELSEIF LOCAL:3 == 11
		LOCAL:4 = 12
	ELSEIF LOCAL:3 == 12
		LOCAL:4 = 9
	ELSE
		GOTO LP_B
	ENDIF
	
	FOR LOCAL:5, 4, 17
		SIF LOCAL:5 > 7 && LOCAL:5 < 12
			CONTINUE
		LOCALS = %GET_TYPE(LOCAL:5)%
		BASE:LOCAL:LOCALS = -350
		MAXBASE:LOCAL:LOCALS = -350
		IF LOCAL:4 + 4 == LOCAL:5
			BASE:LOCAL:LOCALS = 110
			MAXBASE:LOCAL:LOCALS = 110
		ENDIF
	NEXT
	
	LOCAL:5 = 820 + LOCAL:2 * 6
	SIF CFLAG:LOCAL:800 > 1
		LOCAL:5 += 3
	
	ABL:LOCAL:스킬1 = CFLAG:LOCAL:(LOCAL:5)
	ABL:LOCAL:스킬6 = CFLAG:LOCAL:(LOCAL:5 ++)
	ABL:LOCAL:스킬2 = CFLAG:LOCAL:(LOCAL:5)
	ABL:LOCAL:스킬7 = CFLAG:LOCAL:(LOCAL:5 ++)
	ABL:LOCAL:스킬3 = CFLAG:LOCAL:(LOCAL:5)
	ABL:LOCAL:스킬8 = CFLAG:LOCAL:(LOCAL:5 ++)
	
	ABL:LOCAL:스킬9 = 2454 + LOCAL:3
	
	IF CFLAG:LOCAL:800 > 0
		FOR LOCAL:5, 8, 12
			LOCAL:(LOCAL:5) = 0
			LOCALS = %GET_TYPE(LOCAL:5)%
			FOR LOCAL:6, 1, 7
				SIF POS(LOCAL:6) < 0
					CONTINUE
				SIF GET_STATE(CFLAG:POS(LOCAL:6):ステート) == "DYING"
					CONTINUE
				SIF LOCAL:(LOCAL:5) < MAXBASE:POS(LOCAL:6):LOCALS && MAXBASE:POS(LOCAL:6):LOCALS != 999
					LOCAL:(LOCAL:5) = MAXBASE:POS(LOCAL:6):LOCALS
			NEXT
		NEXT
		LOCAL:6 = 12
		LOCAL:12 = 0
		LOCAL:13 = 0
		LOCAL:14 = 0
		LOCAL:15 = 0
		LOCAL:16 = 0
		LOCAL:17 = 0
		LOCAL:18 = 0
		LOCAL:19 = 0
		
		FOR LOCAL:5, 8, 12
			IF LOCAL:(LOCAL:5) > 0
				LOCAL:(LOCAL:6 ++) = LOCAL:5
				LOCAL:(LOCAL:6 ++) = LOCAL:(LOCAL:5)
			ENDIF
		NEXT
		LOCAL:7 = 0
		IF LOCAL:18 > 0 && !RAND:4 && RAND:100 < LOCAL:19
			LOCAL:7 = LOCAL:18
		ELSEIF LOCAL:16 > 0 && !RAND:3 && RAND:100 < LOCAL:17
			LOCAL:7 = LOCAL:16
		ELSEIF LOCAL:14 > 0 && !RAND:2 && RAND:100 < LOCAL:15
			LOCAL:7 = LOCAL:14
		ELSEIF LOCAL:12 > 0 && !RAND:1 && RAND:100 < LOCAL:13
			LOCAL:7 = LOCAL:12
		ENDIF
		IF LOCAL:7 == 11
			ABL:LOCAL:스킬6 = 1423
			ABL:LOCAL:스킬7 = 1425
			ABL:LOCAL:스킬8 = 1414
		ELSEIF LOCAL:7 == 10
			ABL:LOCAL:스킬6 = 1313
			ABL:LOCAL:스킬7 = 1338
			ABL:LOCAL:스킬8 = 1310
		ELSEIF LOCAL:7 == 9
			ABL:LOCAL:스킬6 = 1227
			ABL:LOCAL:스킬7 = 1228
			ABL:LOCAL:스킬8 = 2066
		ELSEIF LOCAL:7 == 8
			ABL:LOCAL:스킬6 = 1124
			ABL:LOCAL:스킬7 = 1140
			ABL:LOCAL:스킬8 = 2066
		ELSE
			ABL:LOCAL:스킬6 = 2066
			ABL:LOCAL:스킬7 = 2066
			ABL:LOCAL:스킬8 = 2066
		ENDIF
		IF CFLAG:LOCAL:800 > 2
			ABL:LOCAL:스킬6 = 2045
			ABL:LOCAL:스킬7 = 2048
		ENDIF
	ENDIF
	IF FLAG:DEBUG
		FOR LOCAL:5, 60, 69
			CALLFORM SKILL_NAME_{ABL:LOCAL:(LOCAL:5)},LOCAL
			PRINTFORML %RESULTS%
		NEXT
			WAIT
	ENDIF
	
	IF CFLAG:LOCAL:800 > 1
		SETBIT TFLAG:마카라브레이크,1
		SETBIT TFLAG:실드브레이크,1
	ENDIF
	IF CFLAG:LOCAL:800 > 2
		FOR LOCAL:5, 1, 7
			SIF POS(LOCAL:5) < 0
				CONTINUE
			CFLAG:POS(LOCAL:5):(GET_TYPE(LOCAL:3 + 4)+"가드킬") = 10
		NEXT
		IF FLAG:DEBUG
			PRINTFORML %GET_TYPE(LOCAL:3 + 4)%
			WAIT
		ENDIF
	ENDIF
ENDIF
@SET_ACTION_ローカ브라흐마,ARG
#DIM LCOUNT
BASE:ARG:ＭＰ = MAXBASE:ARG:ＭＰ
		LOCAL:1 = 0
		LOCAL:2 = 0
		LOCAL:3 = 0
		FOR LOCAL, 1, 7
			SIF POS(LOCAL) < 0
				CONTINUE
			SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("DYING")
				CONTINUE
			SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("SHOCK")
				LOCAL:1 = 1
			SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("FREEZE")
				LOCAL:1 = 1
			SIF CFLAG:POS(LOCAL):ステート == 20
				LOCAL:2 = 1
			SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("CURSE")
				LOCAL:3 = 1
		NEXT
		IF RAND:3 > 0 && LOCAL:3 == 1
				CFLAG:ARG:입력行動 = 1414
				CALL RANDOM_TARGET,ARG,1414
				RETURN 1
		ENDIF
		IF RAND:3 > 0 && LOCAL:2 == 1
				CFLAG:ARG:입력行動 = 1310
				CALL RANDOM_TARGET,ARG,1310
				RETURN 1
		ENDIF
		IF LOCAL:1 == 1
			IF !RAND:2 && CFLAG:ARG:800 > 2
				CFLAG:ARG:입력行動 = 2408
				CALL RANDOM_TARGET,ARG,2408
				RETURN 1
			ELSE
				CFLAG:ARG:입력行動 = 2514
				CALL RANDOM_TARGET,ARG,2514
				RETURN 1
			ENDIF
		ENDIF
IF CFLAG:ARG:800 > 1
		LOCAL:1 = 0
		LOCAL:2 = 0
		LOCAL:3 = 0
		FOR LOCAL, 1, 7
			SIF POS(LOCAL) < 0
				CONTINUE
			SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("DYING")
				CONTINUE
			FOR LCOUNT,0,6
				SIF CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화") > 0
					LOCAL:1 += CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화")
				SIF CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화") == 32
					LOCAL:3 = 1
			NEXT
			SIF LOCAL:2 < LOCAL:1
				LOCAL:2 = LOCAL:1
		NEXT
		LOCAL:1 = LOCAL:2
		FOR LOCAL,0,6
			SIF CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화") < 0
				LOCAL:1 -= CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화")
			SIF CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화") == -16
				LOCAL:3 = 1
		NEXT
		IF LOCAL:1 > 0 && ((RAND:250 + 50) < LOCAL:1 || LOCAL:3 == 1 || CFLAG:ARG:802 == FLAG:経過ターン数)
			CFLAG:ARG:입력行動 = 2513
			CALL RANDOM_TARGET,ARG,2513
			RETURN 1
		ENDIF
ENDIF
IF !RAND:9 && CFLAG:ARG:800 > 0 && (CFLAG:ARG:기합フラグ == 0 || CFLAG:ARG:集中フラグ == 0)
		CFLAG:ARG:입력行動 = 2518
		CALL RANDOM_TARGET,ARG,2518
		RETURN 1
ENDIF
CALL 랜덤행동 , ARG



@SET_ACTION_ローカ라바나,ARG
#DIM LCOUNT
BASE:ARG:ＭＰ = MAXBASE:ARG:ＭＰ
IF CFLAG:ARG:行動した횟수 == 0 && CFLAG:ARG:800 > 0
	IF FLAG:経過ターン数 % 3 == 0
			CFLAG:ARG:입력行動 = 2530
			CALL RANDOM_TARGET,ARG,2530
			RETURN 1
	ELSEIF FLAG:経過ターン数 % 3 == 1
		LOCAL:1 = 0
		LOCAL:2 = 0
		LOCAL:3 = 0
		FOR LOCAL, 1, 7
			SIF POS(LOCAL) < 0
				CONTINUE
			SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("DYING")
				CONTINUE
			FOR LCOUNT,0,6
				SIF CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화") > 0
					LOCAL:1 += CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화")
				SIF CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화") == 32
					LOCAL:2 = 1
			NEXT
			SIF LOCAL:3 < LOCAL:1
				LOCAL:3 = LOCAL:1
		NEXT
		IF RAND:200 < LOCAL:3 || LOCAL:2 == 1
				CFLAG:ARG:입력行動 = 509
				CALL RANDOM_TARGET,ARG,509
				RETURN 1
		ELSE
				CFLAG:ARG:입력行動 = 523
				CALL RANDOM_TARGET,ARG,523
				RETURN 1
		ENDIF
	ELSE
		LOCAL:1 = 0
		LOCAL:2 = 0
		FOR LOCAL,0,6
			SIF CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화") < 0
				LOCAL:1 -= CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화")
			SIF CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화") == -16
				LOCAL:2 = 1
		NEXT
		IF RAND:100 < LOCAL:1 || LOCAL:2 == 1
				CFLAG:ARG:입력行動 = 505
				CALL RANDOM_TARGET,ARG,505
				RETURN 1
		ELSE
				CFLAG:ARG:입력行動 = 530
				CALL RANDOM_TARGET,ARG,530
				RETURN 1
		ENDIF
	ENDIF
ENDIF
		LOCAL:1 = 0
		FOR LOCAL, 1, 7
			SIF POS(LOCAL) < 0
				CONTINUE
			SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("DYING")
				CONTINUE
			SIF CFLAG:POS(LOCAL):방어フラグ > 0
				CONTINUE
			SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("SLIP")
				LOCAL:1 = LOCAL
			SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("SHOCK")
				LOCAL:1 = LOCAL
			SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("FREEZE")
				LOCAL:1 = LOCAL
			SIF LOCAL:1 > 0
				BREAK
		NEXT
IF LOCAL:1 > 0
	LOCAL = LOCAL:1
	CFLAG:ARG:ターゲット = LOCAL
	IF CFLAG:POS(LOCAL):물리반사フラグ < 1
		LOCAL:2 = 0
		LOCAL:3 = 0
		LOCAL:4 = 0
		LOCAL:5 = 0
		FOR LCOUNT,0,2
			SIF MAXBASE:POS(LOCAL):40 > 100 * LCOUNT && MAXBASE:POS(LOCAL):40 != 999
				LOCAL:2 = 1 + LCOUNT
			SIF MAXBASE:POS(LOCAL):41 > 100 * LCOUNT && MAXBASE:POS(LOCAL):41 != 999
				LOCAL:3 = 1 + LCOUNT
			SIF MAXBASE:POS(LOCAL):42 > 100 * LCOUNT && MAXBASE:POS(LOCAL):42 != 999
				LOCAL:4 = 1 + LCOUNT
			SIF MAXBASE:POS(LOCAL):43 > 100 * LCOUNT && MAXBASE:POS(LOCAL):43 != 999
				LOCAL:5 = 1 + LCOUNT
		NEXT
		SIF LOCAL:2 < 1 && MAXBASE:POS(LOCAL):40 < 100 && MAXBASE:POS(LOCAL):40 >= 0
			LOCAL:2 = 1
		SIF LOCAL:3 < 1 && MAXBASE:POS(LOCAL):41 < 100 && MAXBASE:POS(LOCAL):41 >= 0
			LOCAL:3 = 1
		SIF LOCAL:4 < 1 && MAXBASE:POS(LOCAL):42 < 100 && MAXBASE:POS(LOCAL):42 >= 0
			LOCAL:4 = 1
		SIF LOCAL:5 < 1 && MAXBASE:POS(LOCAL):43 < 100 && MAXBASE:POS(LOCAL):43 >= 0
			LOCAL:5 = 1
		
		
		
		FOR LCOUNT,2,0,-1
			IF LOCAL:4 == LCOUNT
				CFLAG:ARG:입력行動 = 219;一番高い
				RETURN 1
			ELSEIF LOCAL:3 == LCOUNT && !CFLAG:POS(LOCAL):무효フラグ
				CFLAG:ARG:입력行動 = 151;640
				RETURN 1
			ELSEIF LOCAL:5 == LCOUNT && !CFLAG:POS(LOCAL):무효フラグ
				CFLAG:ARG:입력行動 = 314;600
				RETURN 1
			ELSEIF LOCAL:2 == LCOUNT && !CFLAG:POS(LOCAL):무효フラグ
				CFLAG:ARG:입력行動 = 59;600
				RETURN 1
			ELSEIF LOCAL:3 == LCOUNT
				CFLAG:ARG:입력行動 = 152;495複
				RETURN 1
			ELSEIF LOCAL:5 == LCOUNT
				CFLAG:ARG:입력行動 = 305;490複
				RETURN 1
			ELSEIF LOCAL:2 == LCOUNT
				CFLAG:ARG:입력行動 = 63;440複
				RETURN 1
			ENDIF
		NEXT
			IF LOCAL:4 > 0
				CFLAG:ARG:입력行動 = 219;一番高い
				RETURN 1
			ELSEIF LOCAL:3 > 0 && !CFLAG:POS(LOCAL):무효フラグ
				CFLAG:ARG:입력行動 = 151;640
				RETURN 1
			ELSEIF LOCAL:5 > 0 && !CFLAG:POS(LOCAL):무효フラグ
				CFLAG:ARG:입력行動 = 314;600
				RETURN 1
			ELSEIF LOCAL:2 > 0 && !CFLAG:POS(LOCAL):무효フラグ
				CFLAG:ARG:입력行動 = 59;600
				RETURN 1
			ELSEIF LOCAL:3 > 0
				CFLAG:ARG:입력行動 = 152;495複
				RETURN 1
			ELSEIF LOCAL:5 > 0
				CFLAG:ARG:입력行動 = 305;490複
				RETURN 1
			ELSEIF LOCAL:2 > 0
				CFLAG:ARG:입력行動 = 63;440複
				RETURN 1
			ENDIF
	ENDIF
	CFLAG:ARG:입력行動 = 2049
	RETURN 1
ENDIF

IF CFLAG:ARG:行動した횟수 == 1 && CFLAG:ARG:800 > 2
	
		IF 1 == 0
		ELSEIF !RAND:5 && CFLAG:ARG:集中フラグ < 1 && FLAG:経過ターン数 % 2 == 1
			CFLAG:ARG:입력行動 = 512
			CALL RANDOM_TARGET,ARG,512
			RETURN 1
		ELSEIF !RAND:4
			IF FLAG:経過ターン数 % 2 == 1
				CFLAG:ARG:입력行動 = 568
				CALL RANDOM_TARGET,ARG,568
			ELSE
				CFLAG:ARG:입력行動 = 566
				CALL RANDOM_TARGET,ARG,566
			ENDIF
			RETURN 1
		ELSEIF !RAND:3
			CFLAG:ARG:입력行動 = 1125
			CALL RANDOM_TARGET,ARG,1125
			RETURN 1
		ELSEIF !RAND:2
			CFLAG:ARG:입력行動 = 2066
			CALL RANDOM_TARGET,ARG,2066
			RETURN 1
		ELSEIF !RAND:1
				CFLAG:ARG:입력行動 = 1227
				CALL RANDOM_TARGET,ARG,1227
				RETURN 1
		ENDIF
ENDIF

IF CFLAG:ARG:800 > 0
	IF FLAG:経過ターン数 % 2 == 1
		IF 1 == 0
		ELSEIF !RAND:3  && CFLAG:ARG:800 > 2
			CFLAG:ARG:입력行動 = 2008
			CALL RANDOM_TARGET,ARG,2008
			RETURN 1
		ELSEIF !RAND:2  && CFLAG:ARG:800 > 2
			CFLAG:ARG:입력行動 = 2045
			CALL RANDOM_TARGET,ARG,2045
			RETURN 1
		ELSEIF !RAND:4 && CFLAG:ARG:集中フラグ < 1
			CFLAG:ARG:입력行動 = 512
			CALL RANDOM_TARGET,ARG,512
			RETURN 1
		ELSEIF !RAND:3
				CFLAG:ARG:입력行動 = 2531
				CALL RANDOM_TARGET,ARG,2531
				RETURN 1
		ELSEIF !RAND:2
				CFLAG:ARG:입력行動 = 944
				CALL RANDOM_TARGET,ARG,944
				RETURN 1
		ELSE
				CFLAG:ARG:입력行動 = 811
				CALL RANDOM_TARGET,ARG,811
				RETURN 1
		ENDIF
	ELSE
		LOCAL:1 = 0
		FOR LOCAL, 1, 7
			SIF POS(LOCAL) < 0
				CONTINUE
			SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("DYING")
				CONTINUE
			SIF CFLAG:POS(LOCAL):방어フラグ < 1
				CONTINUE
			LOCAL:1 = 1
			BREAK
		NEXT
		
		IF 1 == 0
		ELSEIF LOCAL:1 == 1
			CFLAG:ARG:입력行動 = 209
			CALL RANDOM_TARGET,ARG,209
			RETURN 1
		ELSEIF !RAND:3  && CFLAG:ARG:800 > 2
			CFLAG:ARG:입력行動 = 2067
			CALL RANDOM_TARGET,ARG,2067
			RETURN 1
		ELSEIF !RAND:8 || (!RAND:2 && CFLAG:ARG:800 > 2)
			CFLAG:ARG:입력行動 = 349
			CALL RANDOM_TARGET,ARG,349
			RETURN 1
		ELSEIF !RAND:7
			CFLAG:ARG:입력行動 = 219
			CALL RANDOM_TARGET,ARG,219
			RETURN 1
		ELSEIF !RAND:6
			CFLAG:ARG:입력行動 = 126
			CALL RANDOM_TARGET,ARG,126
			RETURN 1
		ELSEIF !RAND:5
			CFLAG:ARG:입력行動 = 139
			CALL RANDOM_TARGET,ARG,139
			RETURN 1
		ELSEIF !RAND:4
			CFLAG:ARG:입력行動 = 6
			CALL RANDOM_TARGET,ARG,6
			RETURN 1
		ELSEIF !RAND:3
				CFLAG:ARG:입력行動 = 70
				CALL RANDOM_TARGET,ARG,70
				RETURN 1
		ELSEIF !RAND:2
				CFLAG:ARG:입력行動 = 347
				CALL RANDOM_TARGET,ARG,944
				RETURN 1
		ELSE
				CFLAG:ARG:입력行動 = 207
				CALL RANDOM_TARGET,ARG,811
				RETURN 1
		ENDIF
	ENDIF
ENDIF

CALL 랜덤행동 , ARG

@SET_ACTION_ローカ라후（体）,ARG
#DIM LCOUNT
BASE:ARG:ＭＰ = MAXBASE:ARG:ＭＰ
IF CFLAG:ARG:行動した횟수 == 0
	LOCAL:11 = 32
	LOCAL:12 = 32
	LOCAL:13 = 32
	LOCAL:14 = 32
	LOCAL:15 = 32
	LOCAL:16 = 32
	LOCAL:17 = -16
	LOCAL:1 = 0
	LOCAL:2 = 0
	FOR LCOUNT,ARG,ARG+2
		FOR LOCAL,0,6
			SIF CFLAG:LCOUNT:(GET_BATTLESTATUS(LOCAL) + "강화") < 0
				LOCAL:1 -= CFLAG:LCOUNT:(GET_BATTLESTATUS(LOCAL) + "강화")
			SIF CFLAG:LCOUNT:(GET_BATTLESTATUS(LOCAL) + "강화") == -16
				LOCAL:2 = 1
			SIF CFLAG:LCOUNT:(GET_BATTLESTATUS(LOCAL) + "강화") < LOCAL:(11 + LOCAL)
				LOCAL:(11 + LOCAL) = CFLAG:LCOUNT:(GET_BATTLESTATUS(LOCAL) + "강화")
		NEXT
	NEXT
	IF RAND:100 < LOCAL:1 || LOCAL:2 == 1
			CFLAG:ARG:입력行動 = 505
			CALL RANDOM_TARGET,ARG,505
			RETURN 1
	ENDIF
	LOCAL:1 = 0
	LOCAL:2 = 0
	LOCAL:3 = 0
	FOR LOCAL, 1, 7
		SIF POS(LOCAL) < 0
			CONTINUE
		SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("DYING")
			CONTINUE
		FOR LCOUNT,0,6
			SIF CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화") > 0
				LOCAL:1 += CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화")
			SIF CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화") == 32
				LOCAL:2 = 1
			SIF CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화") > LOCAL:17
				LOCAL:17 = CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화")
		NEXT
		SIF LOCAL:3 < LOCAL:1
			LOCAL:3 = LOCAL:1
	NEXT
	IF RAND:200 < LOCAL:3 || LOCAL:2 == 1
			CFLAG:ARG:입력行動 = 509
			CALL RANDOM_TARGET,ARG,509
			RETURN 1
	ENDIF
;기합、파워브레스、다크브레스、랜더마이저
	LOCAL:0 = 0
	LOCAL:1 = 0
	LOCAL:2 = 0
	LOCAL:3 = 0
	LCOUNT = 0
	SIF CFLAG:ARG:기합フラグ < 1
		LOCAL:(LCOUNT++) = 511
	SIF LOCAL:11 < 32 && LOCAL:13 < 32 && LOCAL:14 < 32
		LOCAL:(LCOUNT++) = 524
	SIF LOCAL:12 < 32 && LOCAL:15 < 32
		LOCAL:(LCOUNT++) = 539
	SIF LOCAL:17 > -16
		LOCAL:(LCOUNT++) = 523
	FOR LOCAL:4,3,-1,-1
		IF !RAND:(LOCAL:4 + 6) && LOCAL:(LOCAL:4) > 0
			CFLAG:ARG:입력行動 = LOCAL:(LOCAL:4)
			CALL RANDOM_TARGET,ARG,LOCAL:(LOCAL:4)
			RETURN 1
		ENDIF
	NEXT
ELSEIF !RAND:6 && CFLAG:ARG:기합フラグ < 1
			CFLAG:ARG:입력行動 = 511
			CALL RANDOM_TARGET,ARG,511
			RETURN 1
ENDIF

		$DECIDE_ACTION
		CALL SEARCH_ACT,ARG
		IF RESULT == 0
			CFLAG:ARG:입력行動 = -1
			CFLAG:ARG:방어フラグ = 1
			RETURN 0
		ENDIF
;		PRINTFORML [{CFLAG:ARG:5}]の스킬数 {RESULT}
		LOCAL = RAND:RESULT
		;스킬番号決定
		LOCAL:1 = S:(10+LOCAL)
;		PRINTFORML [{CFLAG:ARG:5}]の스킬 {LOCAL:1}
		$TARGET_LOOP
		
		CALL RANDOM_TARGET,ARG,LOCAL:1
		CALLFORM SKILL_TARGET_{LOCAL:1}
		;ここで스킬番号を行動内容に代入
		SIF CFLAG:ARG:ターゲット == -1
			GOTO DECIDE_ACTION
		SIF CFLAG:ARG:ターゲット == CFLAG:(ARG + 1):802
			GOTO DECIDE_ACTION
		CFLAG:ARG:입력行動 = LOCAL:1
		
@SET_ACTION_ローカ라후（머리）,ARG
#DIM LCOUNT
BASE:ARG:ＭＰ = MAXBASE:ARG:ＭＰ

	LOCAL:3 = 0
	FOR LOCAL:2,0,10
		LOCALS = 포지션{LOCAL:2+7}
		SIF FLAG:LOCALS < 0
			CONTINUE
		SIF BASE:(FLAG:LOCALS):ＨＰ < 1
			CONTINUE
		LOCAL:3 ++
	NEXT
IF LOCAL:3 > 1 && (CFLAG:ARG:801 % 3 == FLAG:経過ターン数 % 4 || FLAG:経過ターン数 == 0 ) && CFLAG:ARG:802 < 1
	VARSET LOCAL
	LCOUNT = 0
		FOR LOCAL:10, 1, 7
			SIF POS(LOCAL:10) < 0
				CONTINUE
			SIF GET_STATE(CFLAG:POS(LOCAL:10):ステート) == "DYING"
				CONTINUE
			LOCAL:7 ++
			SIF CFLAG:POS(LOCAL:10):所属ＣＯＭＰ != -1
				CONTINUE
			LOCAL:(LCOUNT++) = LOCAL:10
		NEXT
	IF LOCAL:7 > 1 && LCOUNT > 0
				$LP
				CFLAG:ARG:ターゲット = LOCAL:(RAND:LCOUNT)
				SIF CFLAG:ARG:ターゲット < 1
					GOTO LP
				CFLAG:ARG:입력行動 = 2528
				RETURN 1
	ENDIF
ELSEIF CFLAG:ARG:802 > 0
	CFLAG:ARG:ターゲット = CFLAG:ARG:802
	CFLAG:ARG:입력行動 = 2528
	RETURN 1
ENDIF
	LOCAL:1 = 0
	LOCAL:2 = 0
	LOCAL:3 = 0
	FOR LOCAL,0,6
		SIF CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화") < 0
			LOCAL:1 -= CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화")
		SIF CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화") == -16
			LOCAL:2 = 1
		SIF CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화") < 32
			LOCAL:3 = 1
	NEXT
IF RAND:50 < LOCAL:1 || LOCAL:2 == 1 || !RAND:20
		CFLAG:ARG:입력行動 = 2512
		CALL RANDOM_TARGET,ARG,2512
		RETURN 1
ELSEIF !RAND:10 && LOCAL:3 == 1
	IF LOCAL:1 > 23
		CFLAG:ARG:입력行動 = 2512
		CALL RANDOM_TARGET,ARG,2512
		RETURN 1
	ELSE
		CFLAG:ARG:입력行動 = 530
		CALL RANDOM_TARGET,ARG,530
		RETURN 1
	ENDIF
ELSEIF !RAND:9 && CFLAG:ARG:集中フラグ < 1
			CFLAG:ARG:입력行動 = 512
			CALL RANDOM_TARGET,ARG,512
			RETURN 1
ENDIF

CALL 랜덤행동 , ARG

@SET_ACTION_ローカ카마조츠,ARG
#DIM LCOUNT
BASE:ARG:ＭＰ = MAXBASE:ARG:ＭＰ
IF CFLAG:ARG:800 > 1 && (CFLAG:ARG:801 % 5) == (FLAG:経過ターン数 % 5) && CFLAG:ARG:行動した횟수 < 3
		FOR LOCAL, 1, 7
			SIF POS(LOCAL) < 0
				CONTINUE
			SIF GET_STATE(CFLAG:POS(LOCAL):ステート) == "DYING"
				CONTINUE
			IF CFLAG:POS(LOCAL):ステート != GET_STATE_NUM("FLY")
				CFLAG:ARG:ターゲット = LOCAL
				CFLAG:ARG:입력行動 = 2511
				RETURN 1
			ENDIF
		NEXT
ENDIF
IF CFLAG:ARG:行動した횟수 == 0
	FOR LOCAL, 1, 7
		SIF POS(LOCAL) < 0
			CONTINUE
		SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("DYING")
			CONTINUE
		IF CFLAG:POS(LOCAL):질풍가드킬 < 1 || CFLAG:POS(LOCAL):충격가드킬 < 1
			CFLAG:ARG:입력行動 = 2513
			CALL RANDOM_TARGET,ARG,2513
			RETURN 1
		ENDIF
	NEXT
	LOCAL:1 = 0
	LOCAL:2 = 0
	FOR LOCAL,0,6
		SIF CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화") < 0
			LOCAL:1 -= CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화")
		SIF CFLAG:ARG:(GET_BATTLESTATUS(LOCAL) + "강화") == -16
			LOCAL:2 = 1
	NEXT
	IF RAND:100 < LOCAL:1 || LOCAL:2 == 1
			CFLAG:ARG:입력行動 = 505
			CALL RANDOM_TARGET,ARG,505
			RETURN 1
	ENDIF
	LOCAL:1 = 0
	LOCAL:2 = 0
	LOCAL:3 = 0
	FOR LOCAL, 1, 7
		SIF POS(LOCAL) < 0
			CONTINUE
		SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("DYING")
			CONTINUE
		FOR LCOUNT,0,6
			SIF CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화") > 0
				LOCAL:1 += CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화")
			SIF CFLAG:POS(LOCAL):(GET_BATTLESTATUS(LCOUNT) + "강화") == 32
				LOCAL:2 = 1
		NEXT
		SIF LOCAL:3 < LOCAL:1
			LOCAL:3 = LOCAL:1
	NEXT
	IF RAND:200 < LOCAL:3 || LOCAL:2 == 1
			CFLAG:ARG:입력行動 = 509
			CALL RANDOM_TARGET,ARG,509
			RETURN 1
	ENDIF
ENDIF

	
IF CFLAG:ARG:800 > 1 && !RAND:5
	FOR LOCAL:1, 1, 11
		CALL RANDOM_TARGET,ARG,2511
		IF CFLAG:POS(CFLAG:ARG:ターゲット):ステート != GET_STATE_NUM("FLY")
			CFLAG:ARG:입력行動 = 2511
			RETURN 1
		ENDIF
	NEXT
ENDIF

CALL 랜덤행동 , ARG

@SET_ACTION_ローカリアル바루나,ARG
#LOCALSIZE 1
BASE:ARG:ＭＰ = MAXBASE:ARG:ＭＰ
IF CFLAG:ARG:800 > 0 && CFLAG:ARG:行動した횟수 == 0
	FOR LOCAL, 1, 7
		SIF POS(LOCAL) < 0
			CONTINUE
		SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("DYING")
			CONTINUE
		IF CFLAG:POS(LOCAL):주살가드킬 < 1
			CFLAG:ARG:입력行動 = [[스킬:주살가드브레이크]]
			CALL RANDOM_TARGET,ARG,[[스킬:주살가드브레이크]]
			RETURN 1
		ENDIF
	NEXT
	CALL RANDOM_TARGET,ARG,1623
	IF !RAND:2
		CFLAG:ARG:입력行動 = 1410
	ELSE
		CFLAG:ARG:입력行動 = 1623
	ENDIF
	RETURN 1
ENDIF
IF CFLAG:ARG:800 > 1 && CFLAG:ARG:行動した횟수 == 1
	FOR LOCAL, 1, 7
		SIF POS(LOCAL) < 0
			CONTINUE
		SIF CFLAG:POS(LOCAL):ステート == GET_STATE_NUM("DYING")
			CONTINUE
		IF CFLAG:POS(LOCAL):마법반사フラグ > 1
			CFLAG:ARG:입력行動 = 568
			CALL RANDOM_TARGET,ARG,568
			RETURN 1
		ENDIF
	NEXT
	IF !RAND:4
		CALL 랜덤행동 , ARG
	ELSEIF !RAND:3
		CFLAG:ARG:입력行動 = 537
		CALL RANDOM_TARGET,ARG,537
	ELSEIF !RAND:2
		CFLAG:ARG:입력行動 = 538
		CALL RANDOM_TARGET,ARG,538
	ELSE
		CFLAG:ARG:입력行動 = 557
		CALL RANDOM_TARGET,ARG,557
	ENDIF
	RETURN 1
ENDIF

CALL 랜덤행동 , ARG
